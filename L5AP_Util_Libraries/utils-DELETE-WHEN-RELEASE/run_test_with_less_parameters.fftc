<?xml version="1.0"?>
<testCase version="9.5.0.202312192015">
    <general>
        <notes>Copy or move this test to &apos;ai_LS_5G&apos; project.
Create &apos;topologies&apos; folder then import all 5GC Topologies from Velocity to.</notes>
        <owner>khoang</owner>
        <language>Python</language>
        <xPathVersion>XPATH31</xPathVersion>
    </general>
    <execution>
        <parameters version="9.5.0.202312192015">
            <parameters escape="true">
                <parameters xmlns:pt="http://www.fnfr.com/schemas/parameterTree">
                    <velocity_url>https://terralogic-vel.spirenteng.com/</velocity_url>
                    <username>khoang</username>
                    <password pt:mask="true">CaK+mWSFs84=</password>
                    <tc_dir>project://ai_LS_5G/testcases/</tc_dir>
                    <tas_name>landslide-tas2.spirenteng.com</tas_name>
                    <ts_name/>
                    <ports pt:description="Example: 2,3;2,3,4"/>
                    <routing pt:datatype="BOOLEAN">false</routing>
                    <tas_username>sms</tas_username>
                    <tas_password>a1b2c3d4</tas_password>
                    <reservation_timeout pt:datatype="INTEGER">3600</reservation_timeout>
                    <optimistic_mode pt:datatype="BOOLEAN">false</optimistic_mode>
                    <parameter_key_value pt:description="Seperate by ;. Example: TC_parameters/Session_Capacity=10"/>
                    <include_rnh_mode pt:datatype="BOOLEAN">true</include_rnh_mode>
                    <Official_Library_IDs>
                        <Capacity_And_Performance>-511</Capacity_And_Performance>
                        <Security>-515</Security>
                        <Compliance>-510</Compliance>
                        <ORAN_CU_Compliance>-513</ORAN_CU_Compliance>
                        <ORAN_DU_Compliance>-514</ORAN_DU_Compliance>
                        <ORAN_E2E_Compliance>-516</ORAN_E2E_Compliance>
                        <ORAN_RIC_Compliance>-517</ORAN_RIC_Compliance>
                        <ORAN_CU_Capacity_And_Performance>-518</ORAN_CU_Capacity_And_Performance>
                        <ORAN_DU_Capacity_And_Performance>-519</ORAN_DU_Capacity_And_Performance>
                        <ORAN_E2E_Capacity_And_Performance>-520</ORAN_E2E_Capacity_And_Performance>
                        <ORAN_RIC_Capacity_And_Performance>-521</ORAN_RIC_Capacity_And_Performance>
                    </Official_Library_IDs>
                </parameters>
            </parameters>
        </parameters>
    </execution>
    <procedures>
        <item name="main">
            <steps>
                <item guid="04262731-f28a-449a-bae0-8bdc7adcc12d" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Import Python library</body>
                    </command>
                    <nestedSteps>
                        <item guid="c459de64-1066-4f8e-b220-7fe2ed95ed68" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>import re</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="50018a04-3eb1-4d8a-b2c8-5027e10aa748" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>import random</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="f7c6b6fe-6af4-4171-ba29-af75af72a8a2" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Initialize variables</body>
                    </command>
                    <nestedSteps>
                        <item guid="dd50a722-ae06-4bd0-91ce-92c8e7424853" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>current_path = info(&apos;testCaseFile&apos;, &apos;current&apos;, &apos;uri&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="49bc6157-15a5-4e79-b20a-c373af37b93c" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>current_path = current_path[:current_path.rindex(&apos;/&apos;) + 1];print(current_path)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a95e2eda-387f-4b63-bd73-964344c5ff6a" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>current_topology_path = current_path + &apos;topologies/&apos;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="9e27a3c5-b4a4-42a6-94fc-d7ebcd8bef2e" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>current_project_name = info(&apos;testCaseProject&apos;, &apos;main&apos;);print(current_project_name)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="3c66f43e-aa65-4798-85fc-903e7e47eb22" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>current_project_uri = current_path[:current_path.index(current_project_name) + len(current_project_name) + 1];print(current_project_uri)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b2f67a6d-0ac4-448e-a7be-6833a9a4631b" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>walk_dir = param(&apos;tc_dir&apos;);print(walk_dir)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="155279e3-46a8-4ea8-9211-78ddf50229e6" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>topology_dict = dict()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="3e4d4568-3708-41bd-8253-e8a12cc690de" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>topologypath_dict = dict()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="63069757-53f5-4b47-9279-85aba1daf0fb" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>topologytag_dict = dict()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="89bcb198-eb62-4d97-94b7-14cbafdb0c79" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testcase_dict = dict()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a8bd5f71-1670-4b50-96f4-64890abbd8e7" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>file_name_pattern = &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="256e1e1b-5e4d-4991-b474-75790ebc8315" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testcasepath_dict = dict()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1017a7af-9114-41c2-9ea9-0c514e5f4c7b" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>parameterpath_dict = dict()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e7d29279-6d8b-44ce-8858-e40cf96a0e7b" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>log = &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="66250c85-3e1b-46b0-affa-e1c44a39f89a" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tag_pattern = re.compile(r&apos;(&lt;tags&gt;([a-zA-Z0-9-,\\s]+)&lt;\\/tags&gt;)&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="6c0fd2b2-1e08-43db-8209-c9c684ed4927" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ls_session_pattern = re.compile(r&apos;(&lt;body&gt;node_test_session = &amp;quot;([a-zA-Z0-9-_]+)&amp;quot;&lt;\\/body&gt;)&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="6a795ae4-3fbe-48f9-bc90-2f1f0b763247" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ls_session_name_dict = dict()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="83202250-03b2-45bd-a5fd-e20e0fc9f7e9" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>insclude_rnh_mode = param(&apos;include_rnh_mode&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c6d8638e-5e80-43ed-a8cb-7bc49015ce27" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>test_sequencer = param(&apos;test_sequencer&apos;, &quot;&quot;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="ea182c49-656e-4b74-82c2-51a27a6f646e" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>automation_modes = []</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c7d3c965-3823-4b07-8917-e241516d8d2e" action="if" useFieldsInCommand="false">
                            <command>
                                <body>test_sequencer:</body>
                            </command>
                            <nestedSteps>
                                <item guid="149cbac3-c02b-44cb-9a63-8aa23f7484e0" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>sequencer_parts = test_sequencer.split(&apos;/&apos;);print(sequencer_parts)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="3c29d909-e625-415d-9e1e-b7b301f5b2e4" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>sequencer_part in sequencer_parts:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e4aab8a4-cfab-4ab3-b1d2-f269b1911ff0" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>mode_parts = sequencer_part.split(&apos;;&apos;);print(mode_parts)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="562d7ff6-faa1-4b02-81a8-a517e93935c5" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>mode_tas_name = mode_ts_name = mode_ports = &quot;&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="73cabf02-b4a8-4505-aae0-911be0af940d" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>mode_routing = mode_optimistic_mode = mode_rnh_mode = &quot;false&quot;;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5862de63-537e-4d03-90fa-266f5bb04231" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>part in mode_parts:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="8983f1bf-f531-4e94-966d-83ad90c35fbf" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>part.startswith(&apos;tas_name:&apos;):</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="e64b8f73-e07e-4cea-bbd6-a2be33306bf0" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>mode_tas_name = part.replace(&apos;tas_name:&apos;, &apos;&apos;);print(mode_tas_name)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="0d475027-b3c9-43df-a94e-3c7931888eb5" action="elif" useFieldsInCommand="false">
                                                    <command>
                                                        <body>part.startswith(&apos;ts_name:&apos;):</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="e64b8f73-e07e-4cea-bbd6-a2be33306bf0" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>mode_ts_name = part.replace(&apos;ts_name:&apos;, &apos;&apos;).replace(&apos;+&apos;, &apos;;&apos;);print(mode_ts_name)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="f3a8dc5f-58cd-414b-b88c-e2d1d4ae9534" action="elif" useFieldsInCommand="false">
                                                    <command>
                                                        <body>part.startswith(&apos;ports:&apos;):</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="8bd7ac69-caea-4c2b-9943-bbf04960fd3e" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>mode_ports = part.replace(&apos;ports:&apos;, &apos;&apos;).replace(&apos;+&apos;, &apos;;&apos;);print(mode_ports)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="91562965-6a4a-45bb-be60-623b71335bad" action="elif" useFieldsInCommand="false">
                                                    <command>
                                                        <body>part == &apos;routing&apos;:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="6846fed6-de7f-4463-84d8-701936a96feb" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>mode_routing = &apos;true&apos;;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="95d36d18-9d20-4c18-b89c-fafe1b255fc0" action="elif" useFieldsInCommand="false">
                                                    <command>
                                                        <body>part == &apos;optimistic_mode&apos;:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="881ac57c-c069-4c78-b175-17dc54453cb2" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>mode_optimistic_mode = &apos;true&apos;;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="e903eec7-b002-4d59-8c06-961b2945bfc7" action="elif" useFieldsInCommand="false">
                                                    <command>
                                                        <body>part == &apos;rnh_mode&apos;:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="55644090-93a9-4611-8305-ec96b6a487a2" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>mode_rnh_mode = &apos;true&apos;;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="03d3392e-c3b7-4d46-98ad-536e75e852d3" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;createJson&apos;, documentName=&apos;mode_json&apos;, fromFile=false, jsonString=&apos;{&quot;tas_name&quot;:&quot;[mode_tas_name]&quot;,&quot;routing&quot;:&quot;[mode_routing]&quot;,&quot;ts_name&quot;:&quot;[mode_ts_name]&quot;,&quot;rnh_mode&quot;:&quot;[mode_rnh_mode]&quot;,&quot;ports&quot;:&quot;[mode_ports]&quot;,&quot;optimistic_mode&quot;:&quot;[mode_optimistic_mode]&quot;}&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">createJson</action>
                                                <jsonString inherit="false" sub="true">{&quot;tas_name&quot;:&quot;[mode_tas_name]&quot;,&quot;routing&quot;:&quot;[mode_routing]&quot;,&quot;ts_name&quot;:&quot;[mode_ts_name]&quot;,&quot;rnh_mode&quot;:&quot;[mode_rnh_mode]&quot;,&quot;ports&quot;:&quot;[mode_ports]&quot;,&quot;optimistic_mode&quot;:&quot;[mode_optimistic_mode]&quot;}</jsonString>
                                                <documentName inherit="false">mode_json</documentName>
                                            </applicationProperties>
                                        </item>
                                        <item guid="f77d607b-1633-495c-acf1-8c60c629fa6f" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>automation_modes.append(mode_json)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="abcd1059-9812-416b-815c-300527cf8fab" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="42cf9e44-8db5-429a-b2cb-3d1f449954bf" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>mode_ts_name = param(&apos;ts_name&apos;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c649ab49-e44b-4f83-8702-62ded4e1c79d" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>mode_tas_name = param(&apos;tas_name&apos;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="1b052cb6-d834-42bf-8e12-4328737db407" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>mode_ports = param(&apos;ports&apos;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="9f2990b3-7865-4826-a581-62d63cb4c28a" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>mode_routing = mode_optimistic_mode = mode_include_rnh_mode = &quot;false&quot;;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="1c08d30b-fe71-43b3-92e7-3cb817b418e2" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>param(&apos;optimistic_mode&apos;):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="338d9cc2-c414-461d-ac0c-f593d806653a" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>mode_optimistic_mode = &apos;true&apos;;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="2d103f8f-2af2-4a32-a373-87a2cd523c3d" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>param(&apos;routing&apos;):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="8e99cc2a-d29d-4ddc-8d9a-f52527ccd946" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>mode_routing = &apos;true&apos;;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="07991485-d0f3-49fb-8803-af46bcdca9d6" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>param(&apos;include_rnh_mode&apos;):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="bfdeb5c8-07a6-4d67-9879-d74da84c74fd" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>mode_include_rnh_mode = &apos;true&apos;;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="b3955e0a-3998-4f18-a5e5-1616306446fd" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;createJson&apos;, documentName=&apos;mode_json&apos;, fromFile=false, jsonString=&apos;{&quot;tas_name&quot;:&quot;[mode_tas_name]&quot;,&quot;routing&quot;:&quot;[mode_routing]&quot;,&quot;ts_name&quot;:&quot;[mode_ts_name]&quot;,&quot;include_rnh_mode&quot;:&quot;[mode_include_rnh_mode]&quot;,&quot;ports&quot;:&quot;[mode_ports]&quot;,&quot;optimistic_mode&quot;:&quot;[mode_optimistic_mode]&quot;}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">createJson</action>
                                        <jsonString inherit="false" sub="true">{&quot;tas_name&quot;:&quot;[mode_tas_name]&quot;,&quot;routing&quot;:&quot;[mode_routing]&quot;,&quot;ts_name&quot;:&quot;[mode_ts_name]&quot;,&quot;include_rnh_mode&quot;:&quot;[mode_include_rnh_mode]&quot;,&quot;ports&quot;:&quot;[mode_ports]&quot;,&quot;optimistic_mode&quot;:&quot;[mode_optimistic_mode]&quot;}</jsonString>
                                        <documentName inherit="false">mode_json</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="2eea871e-439c-493b-805d-d08f1561b318" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>automation_modes.append(mode_json)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="fc1e8956-9b67-4336-8450-172d5e92b6aa" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Connect to Velocity and get topology id, name, tag</body>
                    </command>
                    <nestedSteps>
                        <item guid="e0fe12ef-0d7e-42ab-a60f-418ea373e4c0" action="open" session="s1">
                            <command>
                                <body>application:com.fnfr.itest.applications.webservices.restful</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulSessionProperties" url="[param(&apos;velocity_url&apos;)]" url.inherit="false" version="2" version.inherit="false">
                                    <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" authenticationType="Basic" authenticationType.inherit="false" user="[param(&apos;username&apos;)]" user.inherit="false" password.masked="false" password="[param(&apos;password&apos;)]" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                </sessionProperties>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                        </item>
                        <item guid="8a1b264d-1791-4bd8-bc50-ed47a303cafc" action="GET" session="s1">
                            <command>
                                <body>/velocity/api/topology/v18/topologies?limit=100</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>statusCode/@value</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>int(value) == 200</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                            <message>Get Topology information from Velocity success.</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Cannot get Topology information from Velocity.</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="ExitProcedure">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>//topologies/item/id</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>topology_id_list</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>//topologies/item/name</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>topology_name_list</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>topologies_xml</storeResponseAt>
                            </postProcessing>
                            <eventHandlers>
                                <item name="OnToolError">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message>{error}</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="FailTest">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                    <item actionId="ExitExecution">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="/velocity/api/topology/v18/topologies?limit=100" action.inherit="false"/>
                        </item>
                        <item guid="ee7ab6eb-2a28-46ca-b616-58f5e1b8489c" action="for" useFieldsInCommand="false">
                            <command>
                                <body>idx, tag in enumerate(topology_name_list):</body>
                            </command>
                            <nestedSteps>
                                <item guid="26d35e4a-6681-4b23-8183-3678195094b8" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>topo_id = topology_id_list[idx]; print(topo_id)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e9ef70a5-dbf5-4aaa-851d-f1bcd4fecd0a" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>topo_name = topology_name_list[idx];print(topo_name)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ebd59eb7-d8d4-48db-9139-8386fe0446e9" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>topo_path = &apos;topologies/&apos; + topo_name + &apos;.tbml&apos;;print(topo_path)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="5490f3f4-9aa3-4628-910d-3dc4257d86f5" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>query_path = &apos;//topologies/item[id = &quot;{0}&quot;]/tags/item&apos;.format(topo_id);print(query_path)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="83ae1dac-b2b4-45c7-8499-a0ae3404750b" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>topo_tags = query(&apos;topologies_xml&apos;, query_path);print(topo_tags)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="735d3d39-5bcb-49d2-944d-7d5f69f0028f" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>not topo_tags:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e36cd5bd-ead8-434a-8e00-dc4bbc0d82f5" action="continue" useFieldsInCommand="false">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="d4e7a555-81d8-4767-91f3-1e890390cc8d" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>topologypath_dict[topo_id] = topo_path</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="da305944-b26d-4e2f-ab32-b7c4b0ff7fca" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>topology_dict[topo_id] = topo_name</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="b2e05ee9-2d34-447f-9c9b-3de0cafa048b" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>isinstance(topo_tags, str):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="70664648-4655-4ff1-bff5-371e717655f5" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>topo_tags = [topo_tags]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="80d15b24-5df2-44f5-bea8-4b3424c2cde1" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>topo_name.endswith(&apos;RNH&apos;):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="18c12ae7-ae45-4df6-93a2-bdc5413fb49d" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>tag_suffix = &apos;-RNH&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="188a1718-1bbc-4a2d-9577-269bc2d3d3c5" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="3d3e2d56-6ce4-4a51-9726-20297e646df3" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>tag_suffix = &apos;&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="2531dc8f-e93d-422d-bc70-09caf264d139" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>tag in topo_tags:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="f0040d30-f381-4007-bcee-f24fe18a6cfb" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>topologytag_dict[tag + tag_suffix] = topo_id</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ba17acdd-a796-4fe2-a03e-25d5b05b5d9e" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Search testcase</body>
                    </command>
                    <nestedSteps>
                        <item guid="42308d69-f059-4f11-a772-773e5bf0851e" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Information:Searching test cases...</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <message inherit="false">Searching test cases...</message>
                            </applicationProperties>
                        </item>
                        <item guid="ad4f87ea-aac3-4713-8c3c-ff72ec91fd18" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>same_project = False</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="03b476fc-5564-4e3d-b639-4dba6aa02826" action="if" useFieldsInCommand="false">
                            <command>
                                <body>walk_dir.startswith(&apos;project://&apos;):</body>
                            </command>
                            <nestedSteps>
                                <item guid="eb567326-2927-40b3-a038-be366991bd48" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>same_project = walk_dir[len(&apos;project://&apos;):].startswith(current_project_name)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="3680f5d5-82ea-4eca-92a3-df3c30c4624b" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>walk_dir = file_uriToPath(walk_dir).replace(&quot;\\\\&quot;, &quot;/&quot;);print(walk_dir)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b45241f7-95b9-4621-b315-326faebf9777" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>file_count = 0</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="530cea1a-39ba-4ac0-a2ff-85e756f09d4f" action="if" useFieldsInCommand="false">
                            <command>
                                <body>os.path.isfile(walk_dir):</body>
                            </command>
                            <nestedSteps>
                                <item guid="82aeabba-5f8d-4bb9-9bc9-4ee53f12f358" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>file_name = walk_dir[walk_dir.rindex(&apos;/&apos;) + 1: len(walk_dir) - 5];print(file_name)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>file_name_pattern</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="04b8fdfb-5cae-4259-a84e-d4f9bd8f8636" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>walk_dir = walk_dir[:walk_dir.rindex(&apos;/&apos;)]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="fc95d7f4-ac4c-4330-b970-44fe8056b475" action="elif" useFieldsInCommand="false">
                            <command>
                                <body>info(&apos;exists&apos;, &apos;param&apos;, &apos;specified_tests&apos;):</body>
                            </command>
                            <nestedSteps>
                                <item guid="2e840e81-6bb0-44f1-9cf6-fd35deeb3af1" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>file_name_pattern = param(&apos;specified_tests&apos;);print(file_name_pattern)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="d9f2f1fa-8313-4b38-a046-593faef3aa9b" action="for" useFieldsInCommand="false">
                            <command>
                                <body>root, subdirs, files in os.walk(walk_dir):</body>
                            </command>
                            <nestedSteps>
                                <item guid="48deac0f-1632-4cb4-8f61-569c219d0717" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>filename in files:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="7ec3983b-219e-467d-83d1-b8c7a291c02b" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>file_path = os.path.join(root, filename);print(file_path)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="3c7fbe88-6c0e-479f-9db0-8180c09d044b" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>file_path.lower().endswith(&quot;.fftc&quot;) and &quot;intermediate test suite&quot; not in file_path.lower():</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="760f1fe3-6ee7-40ec-bd1e-c993ae2e9ee5" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>current_tc_name = file_path[file_path.rindex(&apos;\\\\&apos;) + 1: len(file_path) - 5];print(current_tc_name)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="a4f2857e-8e4f-41e9-ace7-2a6f21769f0b" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>file_name_pattern and  current_tc_name not in file_name_pattern:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="f59400b4-8ebe-4168-9335-0be7c1b4f034" action="continue" useFieldsInCommand="false">
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="a505a228-e355-4f19-b1c1-b3171ec025cd" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>log += &quot;NAME: &quot; + current_tc_name + &apos;\\n&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="3445dc16-72ac-4e80-914f-1c2614b95efc" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Read data file</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="4aa147e8-bb4e-4221-8cd9-eaee31b6e2a4" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>data = &quot;&quot;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="f6677af8-3f96-45ce-bc15-ea3da70f6a0a" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>current_file = open(file_path, &apos;r&apos;)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="992ee9e2-7f4c-48fc-8af1-635a8de69321" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>data = current_file.read(); print(data)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="1945609f-78ba-47c1-9a6c-33e0312b837e" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>current_file.close()</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="87381876-054c-4591-9b10-d02e477a9e3a" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>match in tag_pattern.finditer(data):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="3b4ff20a-b829-40cb-8c03-951101f12a66" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>text, tag_name = match.groups();print(tag_name)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="93f8c3de-519c-4e87-aaad-abf48de20834" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>topo_id = topologytag_dict[tag_name];print(topo_id)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="57fca65b-b8a5-4d9d-b62c-d36ee64f2a53" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>topo_id not in testcase_dict:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="ee74d334-fdbf-41ac-915f-764d6b13c74f" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>testcase_dict.setdefault(topo_id, [])</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="7326214d-141e-4b87-874b-024bda9d7439" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>testcase_dict[topo_id].append(current_tc_name)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="041d5571-ac44-47af-af2c-b319d156032d" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>check RNH</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="4ea5cfec-c5b8-49a9-9889-35d77e049a2f" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>insclude_rnh_mode:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="004afef5-0d21-4e7d-bf77-288424a2de77" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>tag_rnh = tag_name + &quot;-RNH&quot;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="709b236e-6162-4784-af2d-7787d98d86ec" action="if" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>tag_rnh in  topologytag_dict:</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="c7f574ab-51bc-4963-b043-04bd0eb2ddea" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>topo_id = topologytag_dict[tag_rnh];print(topo_id)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="e2d2e5d2-4e00-4cbc-8967-884ef01226da" action="if" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>topo_id not in testcase_dict:</body>
                                                                                            </command>
                                                                                            <nestedSteps>
                                                                                                <item guid="ee74d334-fdbf-41ac-915f-764d6b13c74f" action="eval" useFieldsInCommand="false">
                                                                                                    <command>
                                                                                                        <body>testcase_dict.setdefault(topo_id, [])</body>
                                                                                                    </command>
                                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                </item>
                                                                                            </nestedSteps>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                        <item guid="5770f994-143c-4502-a617-e10b33d48286" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>testcase_dict[topo_id].append(current_tc_name)</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="7990634d-a27d-4e93-920c-b3ea2b0dd9ad" action="for" skip="true" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>ls_match in ls_session_pattern.finditer(data):</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="3dc37726-a961-4068-ad91-1b685bbce8f0" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>text_2, ls_session_name = ls_match.groups();print(ls_session_name)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="ccdeaf30-9398-4f57-a710-97c2153c600e" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>not (ls_session_name.endswith(&apos;SUT&apos;) and ls_session_name.endswith(&apos;SBA&apos;)):</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="3b7fdfc2-ac81-4671-9404-6c6134b47123" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>ls_session_name_dict[current_tc_name] = ls_session_name</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="710b575e-3d51-4047-bb62-6ccd51436ea2" action="break" useFieldsInCommand="false">
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="c990a170-bda8-4ee6-87de-4482e2824458" action="break" useFieldsInCommand="false">
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="0e90656e-75b9-44ff-9f73-e1a3876fc61e" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Store testcase to dict</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="977e03ba-dc90-4cc2-8207-372a38e7823c" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>same_project:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="a922d0e2-173a-4e9f-a914-65409a0aadfc" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>testcase_uri = current_project_uri + file_path[file_path.index(current_project_name) + len(current_project_name) + 1:].replace(&quot;\\\\&quot;, &quot;/&quot;); print(testcase_uri )</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="ebd279da-2335-4af2-98be-97a37e9ca2c4" action="else" useFieldsInCommand="false">
                                                            <nestedSteps>
                                                                <item guid="feec1118-ea5a-4561-ac4f-b2520a463321" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>testcase_uri = file_pathToUri(file_path)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="92203fa9-dd5d-4038-8a0c-b573bc72fb55" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>testcasepath_dict[current_tc_name] = testcase_uri</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="b104da41-8259-4904-a872-26f4a4d30291" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>parameterpath_dict[current_tc_name] = testcase_uri.replace(&apos;/testcases/&apos;, &apos;/parameters/&apos;).replace(&apos;.fftc&apos;, &apos;.ffpt&apos;)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="04b0e96e-1a57-4474-829a-95f689ce1f1c" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Information:=============================================================</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <message inherit="false">=============================================================</message>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ec5de2b7-5143-4278-8fa0-055a66e1f5ae" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Do tests</body>
                    </command>
                    <nestedSteps>
                        <item guid="fd47b612-f4d3-4cd3-9f5e-71f1f5a1658e" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(testcasepath_dict)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="ca670a92-6526-4420-b796-962cf0470599" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(testcase_dict)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="8fa656e7-5ac5-41bc-a217-392c891e4964" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(automation_modes)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c53d8a3a-0fa2-4eb2-badd-058da3e0a11c" action="for" useFieldsInCommand="false">
                            <command>
                                <body>topo_id in testcase_dict:</body>
                            </command>
                            <nestedSteps>
                                <item guid="d053be00-bb83-48b0-880a-5acc2142995b" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>automation_mode in automation_modes:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="af28f3cc-29cc-4394-a016-59c47b59f370" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(automation_mode)</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>//tas_name</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>tas_name</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>//ts_name</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>ts_name</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>//ports</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>ports</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>//routing</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>routing</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>//optimistic_mode</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>optimistic_mode</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>//rnh_mode</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>rnh_mode</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="69c8e578-0e5a-48eb-b464-6d8f2493fea0" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>not ts_name:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="f1efb618-1a86-44c2-a1ac-c0ab5a5af105" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>ts_name = param(&apos;ts_name&apos;)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f2c05475-6ffd-4b44-8aee-6d895926c3d6" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>not tas_name:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="9422deba-1892-4baa-ba6b-c6bb09514ae1" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>tas_name = param(&apos;tas_name&apos;)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="4bb2994f-d53a-4143-84c1-888eb95d5a08" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>not ports:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="1c73341b-1b85-4417-8d54-884eeb87a1fa" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>ports = param(&apos;ports&apos;)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="08639115-dc46-4f0c-8505-2cb92a8130d5" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:Automation Mode: TAS &quot;[tas_name]&quot;, TS &quot;[ts_name]&quot;, Ports &quot;[ports]&quot;, Routing &quot;[routing]&quot;, Optimistic mode &quot;[optimistic_mode]&quot;, RNH &quot;[rnh_mode]&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">Automation Mode: TAS &quot;[tas_name]&quot;, TS &quot;[ts_name]&quot;, Ports &quot;[ports]&quot;, Routing &quot;[routing]&quot;, Optimistic mode &quot;[optimistic_mode]&quot;, RNH &quot;[rnh_mode]&quot;</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="f40e8afe-6080-4c02-af2e-9f07dd3a64cb" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Reserve topology</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="49cebc8d-3f0a-449e-8df8-627cfacbdcab" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>topo_tags = [i for i in topologytag_dict if topologytag_dict[i]==topo_id];print(topo_tags)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="d4dca257-9fd6-4712-91ad-7cdfaaf82cbf" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>topo_tag = topo_tags[0];print(topo_tag)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="18814bc2-77ab-456b-9956-dcad324b29d9" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>(rnh_mode == &apos;true&apos; and not topo_tag.endswith(&apos;RNH&apos;)) or (rnh_mode == &apos;false&apos; and topo_tag.endswith(&apos;RNH&apos;)):</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="1cdf4aea-9a8c-4e01-a709-6d00e98c4a2e" action="continue" useFieldsInCommand="false">
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="cf3251fc-9955-4673-ad82-ecae14b655ac" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>tests = testcase_dict[topo_id];print(tests)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="2445bbd8-cb73-4fcd-b50a-7da0c61a30cc" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>len(tests) == 0:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="955a9c24-ad88-4c66-8062-3e49303944b5" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>reserve_time = 0</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="2974362d-c6f7-4869-a3f6-14be725ee275" action="continue" useFieldsInCommand="false">
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="36ece40b-eaf5-48d9-aeeb-a79654b63c63" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>reserve_time = len(tests) * param(&apos;reservation_timeout&apos;)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="a8017ffd-bd97-4f50-a119-445a2cdb46f0" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>topo_id_original = topo_id.replace(&quot;-RNH&quot;, &quot;&quot;);print(topo_id_original)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="085a7868-b3b9-4673-b1d4-4baaf0e2028c" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>reserve_topology(topology_id=topo_id_original, tas_name=tas_name, ts_name_pattern=ts_name, ts_ports=ports, routing=routing, reservation_time=reserve_time)</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>isEmpty()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="assert">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                        <expression>value == &quot;true&quot;</expression>
                                                                        <actionsWhenTrue>
                                                                            <item actionId="ExitProcedure">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                                                            </item>
                                                                        </actionsWhenTrue>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>responseLine()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>reservation_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5a8ff620-4b66-47ad-a418-e15561b02a4a" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Run tests</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="f2c65d96-2c56-408a-8c6f-34f2f04b0006" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Add parameters</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="2bd614e5-b1ce-407c-9f3d-f5d27fcd1df9" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>topo_id.endswith(&apos;-RNH&apos;):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="74c1d7cb-2ec4-4357-bfb0-f2ada26b7ad2" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>parameters = &apos;TC_parameters/Enable_RemoteNetworkHost=true&apos;;print(parameters)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="cf7e4d51-118f-4c3a-a415-aef6a83761ff" action="else" useFieldsInCommand="false">
                                                            <nestedSteps>
                                                                <item guid="c53bbbec-d394-466f-bdde-68c5b14e1987" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>parameters = &apos;TC_parameters/Enable_RemoteNetworkHost=false&apos;;print(parameters)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="e6ca5675-9845-43d8-8a83-20ee484db3b2" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>optimistic_mode == &quot;true&quot;:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="8cd5b014-391a-4f4c-bf44-54592e6edbf3" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>parameters += &apos;\\nTC_parameters/Optimistic_Mode=true&apos;;print(parameters)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="4f739064-9f12-4d2a-9a06-9ec48e9239f8" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>param_text = param(&apos;parameter_key_value&apos;)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="24eab31f-f0df-4f31-80bd-c9eb5b826f95" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>param_text:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="9d05c4ea-3eb9-44a3-852c-8c93f84dbe53" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>params = param_text.split(&quot;;&quot;)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="907a813b-0f39-44a6-aa3e-3b73ebd347a3" action="for" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>param in params:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="554b0231-53e5-476e-b906-7748b2028925" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>parameters += &apos;\\n&apos;+ param;print(parameters)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="fae41976-98b4-4878-8c7d-f0a46ed908fd" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>sleep_time  = 0</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="0a5810bb-4857-48b1-884f-edeb75c000a5" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test in tests:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="536ced96-bfe0-4905-b457-899cc108ebb8" action="sleep">
                                                            <command>
                                                                <body>[sleep_time]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="106e94f2-0b28-4e64-bd2b-c91bcdc31bdc" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>test_path = testcasepath_dict[test];print(test_path)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="3da22c80-717d-485f-8923-2f0a97ef31ad" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>parameter_path = parameterpath_dict[test];print(parameter_path)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="8f3a01e6-674a-45b4-932e-e0e49d01cf82" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>topology_path = topologypath_dict[topo_id];print(topology_path)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="7a721be1-b255-4543-89ce-6d551ede7961" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:Run test &quot;[test]&quot;...</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <message inherit="false">Run test &quot;[test]&quot;...</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="f30b9fd1-5e93-4ab5-89b3-4ef0aecefb23" action="call" useFieldsInCommand="false">
                                                            <command>
                                                                <body>run_test(testcase_path=test_path, parameter_path=parameter_path, topology_path=topology_path, parameters=parameters)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="548adf35-6bfc-42bb-a68c-96febebb0105" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>sleep_time = 30</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="fc6a12a6-0568-477a-906f-d8fc799b4b06" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:-------------------------------------------------</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <message inherit="false">-------------------------------------------------</message>
                                                            </applicationProperties>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5cb68709-90d4-423f-9c8b-3afdccab6ac7" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Release topology</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="eb0db0c7-5e7d-4fad-a780-adc238d89fdc" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>release_topology(reservation_id=reservation_id)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="c7ec2074-eaf8-4554-bdab-d02dd35eee9a" action="message" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Information:===========================================================================================</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                        <message inherit="false">===========================================================================================</message>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="d7043035-ff46-473b-8539-d06ab27d008e" action="close" session="s1">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
        <item name="run_test" isPublic="true">
            <steps>
                <item guid="482a4bfe-e21c-4a37-b090-f8e39103e4ba" action="run">
                    <command>
                        <body>[testcase_path]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.execution.kernel.ExecRunPropertyGroup" testbedSelection="UseSpecified">
                        <specifiedTestbed sub="true">[topology_path]</specifiedTestbed>
                        <specifiedParameters sub="true">[parameter_path]</specifiedParameters>
                        <params>[parameters]</params>
                    </applicationProperties>
                </item>
            </steps>
            <arguments>
                <item name="testcase_path">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="parameter_path">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="topology_path">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="parameters"/>
            </arguments>
        </item>
        <item name="reserve_topology" isPublic="true">
            <steps>
                <item guid="eca34378-8a89-4b19-9ef4-bade0317e4d2" action="GET" session="s1">
                    <command>
                        <body>velocity/api/topology/v18/topology/[topology_id]</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//Json/name</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>topology_name</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//lockStatus/isLocked</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>str(value) == &quot;false&quot;</expression>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Topology [toplogy_name] is locking.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="ExitProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>topo_resources_xml</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="velocity/api/topology/v18/topology/[topology_id]" action.inherit="false"/>
                </item>
                <item guid="58817a10-901a-4777-8f83-7774b24a7932" action="GET" session="s1">
                    <command>
                        <body>velocity/api/topology/v18/topology/[topology_id]/resources</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//items/item[name = &quot;Emulated SUT&quot;]/id</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>emulated_id</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//items/item[matches(name, &quot;TS \\d+&quot;)]/id</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>ts_ids</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//items/item[starts-with(name, &quot;Port&quot;)]/id</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>port_ids</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//items/item[name = &quot;TAS&quot;]/id</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tas_id</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>topo_resources_xml</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="velocity/api/topology/v18/topology/[topology_id]/resources" action.inherit="false"/>
                </item>
                <item guid="eabf5812-303a-4bd0-8f43-cf0bd804ec2b" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>current_time = info(&apos;time&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="01493a1d-b090-4c2a-9760-edd2d181f5fc" action="json" useFieldsInCommand="false">
                    <command>
                        <body>action=&apos;createJson&apos;, documentName=&apos;request_body&apos;, fromFile=false, jsonString=&apos;{&quot;duration&quot;:[reservation_time],&quot;customConditions&quot;:\\\\[],&quot;name&quot;:&quot;Script automation reservation - [current_time]&quot;,&quot;topologyId&quot;:&quot;[topology_id]&quot;,&quot;description&quot;:&quot;This is a demo reservation&quot;}&apos;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                        <action inherit="false">createJson</action>
                        <jsonString inherit="false" sub="true">{&quot;duration&quot;:[reservation_time],&quot;customConditions&quot;:\\[],&quot;name&quot;:&quot;Script automation reservation - [current_time]&quot;,&quot;topologyId&quot;:&quot;[topology_id]&quot;,&quot;description&quot;:&quot;This is a demo reservation&quot;}</jsonString>
                        <documentName inherit="false">request_body</documentName>
                    </applicationProperties>
                </item>
                <item guid="dde13b6a-ed69-428a-9690-3f7f01112bd9" action="json" useFieldsInCommand="false">
                    <command>
                        <body>action=&apos;createJson&apos;, documentName=&apos;condition&apos;, fromFile=false, jsonString=&apos;{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;&quot;}&apos;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                        <action inherit="false">createJson</action>
                        <jsonString inherit="false">{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;&quot;}</jsonString>
                        <documentName inherit="false">condition</documentName>
                    </applicationProperties>
                </item>
                <item guid="39de277b-eb7f-4721-90b0-2b5bcc3addd6" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>condition_index = 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="0e5a4d5c-57dd-4ebd-8e39-8c2157de7fd3" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Add Tas condition</body>
                    </command>
                    <nestedSteps>
                        <item guid="091ba9b1-840f-4908-815f-bc58bf544dc6" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tas_condition_suffix = &quot; AND [Hostname]=&apos;{0}&apos;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="608882ec-934f-423e-9ee5-d25ad654a31c" action="if" useFieldsInCommand="false">
                            <command>
                                <body>tas_name:</body>
                            </command>
                            <nestedSteps>
                                <item guid="6123a863-f5e3-4bfb-8536-942890dea50e" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[tas_id]&quot;}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">setJsonValue</action>
                                        <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[tas_id]&quot;}</pathValue>
                                        <documentName inherit="false">condition</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="47844c5c-89d4-4e77-8040-ead9bc3415be" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>query_path = &apos;//items/item[id = &quot;{0}&quot;]/condition&apos;.format(tas_id)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="304b96a3-d7ee-4435-a37b-9d7275d7c11b" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>condition_text = query(&apos;topo_resources_xml&apos;, query_path);print(condition_text)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="59c88b52-56b0-4626-a3b0-dad96a82c352" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>modified_condition = condition_text + tas_condition_suffix.format(tas_name);print(modified_condition)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="dcb890ca-2d28-4f9e-935b-a4f08a5cbbac" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;[modified_condition]&quot;}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">setJsonValue</action>
                                        <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;[modified_condition]&quot;}</pathValue>
                                        <documentName inherit="false">condition</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="06472ca5-57ae-42b3-b076-87c04f273cbe" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=false, documentName=&apos;request_body&apos;, pathValue=&apos;{&quot;customConditions/\\\\[[condition_index]]&quot;:\\\\[[condition]]}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">addJsonNode</action>
                                        <pathValue inherit="false" sub="true">{&quot;customConditions/\\[[condition_index]]&quot;:\\[[condition]]}</pathValue>
                                        <documentName inherit="false">request_body</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="954be0e0-2fa1-46c3-b0d0-33f2a2d3d04f" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>condition_index += 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="8c5a527d-396e-4ba5-a25d-98a5dcefb58a" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Add TS condition</body>
                    </command>
                    <nestedSteps>
                        <item guid="7701a259-8dbd-4230-a56d-2cfe352f3629" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_condition_suffix = &quot; AND [TS Name]=&apos;{0}&apos;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="798cf108-fc57-44c5-b305-8ca5d83f39d7" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ts_names = []</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="3dd70c38-0bf2-4760-acf7-5aa0dd2b7f90" action="if" useFieldsInCommand="false">
                            <command>
                                <body>ts_name_pattern:</body>
                            </command>
                            <nestedSteps>
                                <item guid="8c6910d1-4f9f-483d-84a3-ec94d05f5407" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_names = ts_name_pattern.split(&quot;;&quot;) </body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="040b7350-796a-4d53-8788-f28603ec5ac4" action="elif" useFieldsInCommand="false">
                            <command>
                                <body>routing == &quot;true&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="17901498-ca66-4a91-8d4b-04e6fefbee36" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>random_abc = random.sample(sorted({&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;}), 4)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="13a8c0e4-07e2-4f47-92a6-78dad8cd9c45" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>item in random_abc:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="0ea8393b-0965-4032-96a4-985c3ca9b32d" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>tas_name ==&quot;landslide-tas41.spirenteng.com&quot;:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="afad69b0-d6ad-4cff-b7f1-9c70e66a3f07" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>ts_names.append(&quot;kvm-ts41&quot; + item)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="5b9284ac-5048-443e-ac6d-b9e080256ffa" action="elif" useFieldsInCommand="false">
                                            <command>
                                                <body>tas_name == &quot;landslide-tas3.spirenteng.com&quot; or tas_name == &quot;landslide-tas2.spirenteng.com&quot;:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="5d28226a-eb7d-42af-b67c-8e96e09fcfe0" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>ts_names.append(&quot;ac-landslide-kvm-ts1&quot; +item)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="3668bdc7-da02-4da0-ab6a-1217876094a8" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Add condition for Emulated SUT</body>
                            </command>
                            <nestedSteps>
                                <item guid="e3872a6d-01f2-4333-b0ba-da152ee17d3e" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>len(ts_names) &gt; 0 and ts_names[0]:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="968633f3-99cc-40ac-a378-4523ca406e47" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[emulated_id]&quot;}&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">setJsonValue</action>
                                                <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[emulated_id]&quot;}</pathValue>
                                                <documentName inherit="false">condition</documentName>
                                            </applicationProperties>
                                        </item>
                                        <item guid="ed0ae6fe-a05e-4e90-9e11-63647b76661b" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>query_path = &apos;//items/item[id = &quot;{0}&quot;]/condition&apos;.format(emulated_id)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="3ec0f5be-dbd2-40d9-9e15-0032c4bae52b" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>condition_text = query(&apos;topo_resources_xml&apos;, query_path);print(condition_text)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="e4baebef-cbe6-419d-821d-2936405eb804" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>modified_condition = condition_text + ts_condition_suffix.format(ts_names[0]);print(modified_condition)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="4c9b87a4-3cda-4af8-bedc-1d86b72d85e9" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;[modified_condition]&quot;}&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">setJsonValue</action>
                                                <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;[modified_condition]&quot;}</pathValue>
                                                <documentName inherit="false">condition</documentName>
                                            </applicationProperties>
                                        </item>
                                        <item guid="ed2ea90d-533d-48a8-832e-92f4a27af7f3" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=false, documentName=&apos;request_body&apos;, pathValue=&apos;{&quot;customConditions/\\\\[[condition_index]]&quot;:\\\\[[condition]]}&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">addJsonNode</action>
                                                <pathValue inherit="false" sub="true">{&quot;customConditions/\\[[condition_index]]&quot;:\\[[condition]]}</pathValue>
                                                <documentName inherit="false">request_body</documentName>
                                            </applicationProperties>
                                        </item>
                                        <item guid="4bc8d29d-3e11-4869-9324-23515a80c530" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>condition_index += 1</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="9c730a90-30dc-4e0b-8e9d-47d6c7dfd12f" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Add condition for TS</body>
                            </command>
                            <nestedSteps>
                                <item guid="76698d17-5f8e-487c-9fa5-661a5ef8c093" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>len(ts_names) &gt; 1:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="c9d51a0a-a847-4fad-b165-b7b267b298d7" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>isinstance(ts_ids, str):</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="6ee79e87-975f-4bb2-be02-4d442a4be7e0" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[ts_ids]&quot;}&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">setJsonValue</action>
                                                        <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[ts_ids]&quot;}</pathValue>
                                                        <documentName inherit="false">condition</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="eb1080a2-aafa-4d5e-9bda-b0619f62cef7" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>query_path = &apos;//items/item[id = &quot;{0}&quot;]/condition&apos;.format(ts_ids)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="4abd49be-3269-475b-882b-250aadaed8cd" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>condition_text = query(&apos;topo_resources_xml&apos;, query_path);print(condition_text)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="b9a6d71b-2180-49d4-a496-e39d34c00044" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>modified_condition = condition_text + ts_condition_suffix.format(ts_names[1]);print(modified_condition)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="726fa4d6-cadb-4818-b01e-1fb35955d742" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;[modified_condition]&quot;}&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">setJsonValue</action>
                                                        <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;[modified_condition]&quot;}</pathValue>
                                                        <documentName inherit="false">condition</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="baa72439-6a1d-4dfe-9fde-6ee0e2fb034e" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=false, documentName=&apos;request_body&apos;, pathValue=&apos;{&quot;customConditions/\\\\[[condition_index]]&quot;:\\\\[[condition]]}&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">addJsonNode</action>
                                                        <pathValue inherit="false" sub="true">{&quot;customConditions/\\[[condition_index]]&quot;:\\[[condition]]}</pathValue>
                                                        <documentName inherit="false">request_body</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="3fc9b964-193a-42ca-a047-fbeebc2ac1ea" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>condition_index += 1</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="eb7fe4ee-5e70-4892-be93-b598912c095d" action="else" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="f3f6dc1d-bf78-4395-9af1-a2306d425dee" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>condition_length = len(ts_names) - 1 if len(ts_names) - 1 &lt; len(ts_ids) else len(ts_ids)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="c7d3540f-a6bb-431a-969a-c538088d0c75" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>i in range(0, condition_length):</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="0e9c4c2d-3683-45b1-9230-e1aeca96ebbb" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>ts_id = ts_ids[i]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="c23fc12c-d9a1-42fb-956c-606c41555525" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[ts_id]&quot;}&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">setJsonValue</action>
                                                                <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[ts_id]&quot;}</pathValue>
                                                                <documentName inherit="false">condition</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="0ada3eaf-56ef-4f4d-8d6c-c9c5122c5324" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;//items/item[id = &quot;{0}&quot;]/condition&apos;.format(ts_id)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="c7f793a1-89d7-420c-94a2-f2b264d64969" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>condition_text = query(&apos;topo_resources_xml&apos;, query_path);print(condition_text)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="07063196-4ab3-4e9a-be9c-bec1fcb40d0d" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>modified_condition = condition_text + ts_condition_suffix.format(ts_names[i + 1]);print(modified_condition)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="d6ccfbd0-bcf6-4f5c-921a-cc8e968601cf" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;[modified_condition]&quot;}&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">setJsonValue</action>
                                                                <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;[modified_condition]&quot;}</pathValue>
                                                                <documentName inherit="false">condition</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="eca2d58e-672c-4e9e-a983-6f85456d282d" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=false, documentName=&apos;request_body&apos;, pathValue=&apos;{&quot;customConditions/\\\\[[condition_index]]&quot;:\\\\[[condition]]}&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">addJsonNode</action>
                                                                <pathValue inherit="false" sub="true">{&quot;customConditions/\\[[condition_index]]&quot;:\\[[condition]]}</pathValue>
                                                                <documentName inherit="false">request_body</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="103ab5bb-fcfd-45bb-bfd5-b16f18d8d7ac" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>condition_index += 1</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="6295d224-1afc-4ee5-981f-6d0484cdc955" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Add Port condition</body>
                    </command>
                    <nestedSteps>
                        <item guid="34b22b29-748f-4a71-9638-fcf629dc10f9" action="if" useFieldsInCommand="false">
                            <command>
                                <body>routing == &quot;false&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="a64617c9-74b3-4e1b-933e-7702e0610f38" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>port_condition_suffix = &quot; AND [PHY name]=&apos;eth{0}&apos;&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ec015d4d-6b6e-47f6-b156-c5e2edd81823" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_ports:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="c9f519dc-b9fd-4984-9a5d-b6d29a165025" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_port_parts = ts_ports.split(&quot;;&quot;)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="9aaff883-4111-4d1a-80ac-4a45606e3427" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>default_phy_list = [&apos;2&apos;,&apos;3&apos;,&apos;4&apos;,&apos;5&apos;,&apos;6&apos;,&apos;7&apos;,&apos;8&apos;,&apos;9&apos;,&apos;10&apos;,&apos;11&apos;,&apos;12&apos;]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="1818e61d-41be-4773-a9c2-d1d30651f646" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Set condition for Emulated SUT ports</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="b0a3412e-0f25-4d02-a4d2-f4da2c956e11" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>ts_port_parts[0]:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="696c9e66-4427-47a3-bd00-c489ede93a50" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>phy_names = ts_port_parts[0].split(&apos;,&apos;)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="264e2321-e6c0-4d12-9095-dd0c5e939497" action="else" useFieldsInCommand="false">
                                                    <nestedSteps>
                                                        <item guid="e6b453a7-cb8f-420d-a4d0-7b22f9647166" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>phy_names = default_phy_list</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="1e0f1576-376a-486a-a946-b0f34843298f" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>phy_i in range(len(phy_names)):</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="5c4ba386-0142-4dc1-89b0-0e52b5b0c439" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;//items/item[parentId = &quot;{0}&quot; and name = &quot;Port {1}&quot;]/id&apos;.format(emulated_id, phy_i + 1);print(query_path)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="84fbdfd5-e11f-46c8-b42d-e2e7cdca9394" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>vel_port_id = query(&apos;topo_resources_xml&apos;, query_path);print(vel_port_id)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="25f1a067-b3ce-499b-ad48-983ea5e95035" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>not vel_port_id:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="b1c825ee-910a-4b2a-a095-2de07866f003" action="break" useFieldsInCommand="false">
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="d1924bb1-556f-4b68-8982-617c0be709e9" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[vel_port_id]&quot;}&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">setJsonValue</action>
                                                                <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[vel_port_id]&quot;}</pathValue>
                                                                <documentName inherit="false">condition</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="59aa8f89-20ce-4f76-8892-f4749a538f60" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;//items/item[id = &quot;{0}&quot;]/condition&apos;.format(vel_port_id)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="5b054a65-f312-4eec-ae81-bfddcbb18557" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>condition_text = query(&apos;topo_resources_xml&apos;, query_path);print(condition_text)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="223bb002-8cb4-438f-b2c1-26f39daebc05" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>modified_condition = condition_text + port_condition_suffix.format(phy_names[phy_i]);print(modified_condition)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="81ebdf49-065b-4175-b4d5-eb863f7813ef" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;[modified_condition]&quot;}&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">setJsonValue</action>
                                                                <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;[modified_condition]&quot;}</pathValue>
                                                                <documentName inherit="false">condition</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="96a6699d-5524-424d-a4c7-ca84a5438338" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=false, documentName=&apos;request_body&apos;, pathValue=&apos;{&quot;customConditions/\\\\[[condition_index]]&quot;:\\\\[[condition]]}&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">addJsonNode</action>
                                                                <pathValue inherit="false" sub="true">{&quot;customConditions/\\[[condition_index]]&quot;:\\[[condition]]}</pathValue>
                                                                <documentName inherit="false">request_body</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="77cf9998-b06c-4879-a55b-355d7ce81e9e" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Set condition for TS</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="9e3685b5-49ab-447b-8027-986302380ae5" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>port_i in range(1, len(ts_port_parts)):</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="70b487ec-8dd0-47f6-bdb1-522466b4c01b" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;//items/item[name = &quot;TS {0}&quot;]/id&apos;.format(port_i);print(query_path)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="df525980-23b6-4f97-9ca4-737ca2d223f1" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>ts_id = query(&apos;topo_resources_xml&apos;, query_path);print(ts_id)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="744501e8-16d0-4d77-bc0e-38fbaddf659e" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>ts_id:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="df92f78e-0339-4674-8f99-d4dd52bf8843" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>ts_port_parts[port_i]:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="a032441d-488f-49d3-85bb-33c0e6a70e75" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>phy_names = ts_port_parts[port_i].split(&apos;,&apos;)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="ed8c37c3-5b18-47d2-b8ef-99c5524b2b6c" action="else" useFieldsInCommand="false">
                                                                    <nestedSteps>
                                                                        <item guid="d6f6540f-0daf-426d-9c59-1ea86d3dee2b" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>phy_names = default_phy_list</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="9e4e4df4-31bb-4735-a4f2-7aea3feb998f" action="for" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>phy_i in range(len(phy_names)):</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="ea50a302-2b42-4b6e-96f5-999678dc10f0" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>query_path = &apos;//items/item[parentId = &quot;{0}&quot; and name = &quot;Port {1}&quot;]/id&apos;.format(ts_id, phy_i +1);print(query_path)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="ff62ab52-a515-4862-9372-5252b84a4fe6" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>vel_port_id = query(&apos;topo_resources_xml&apos;, query_path);print(vel_port_id)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="4fb119a8-ea23-484d-bd0d-a032d49686ed" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>not vel_port_id:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="f1565317-8b8f-40d6-8d52-f71623154ccc" action="break" useFieldsInCommand="false">
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="d6464a80-1fa3-457f-bf1c-4fbe39783841" action="json" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[vel_port_id]&quot;}&apos;</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                <action inherit="false">setJsonValue</action>
                                                                                <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[vel_port_id]&quot;}</pathValue>
                                                                                <documentName inherit="false">condition</documentName>
                                                                            </applicationProperties>
                                                                        </item>
                                                                        <item guid="790ead2b-0f5f-4137-9545-cc654c3cc862" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>query_path = &apos;//items/item[id = &quot;{0}&quot;]/condition&apos;.format(vel_port_id)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="309d9cc8-2f5c-4fe2-b62e-2f1fb8b423f2" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>condition_text = query(&apos;topo_resources_xml&apos;, query_path);print(condition_text)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="aea5b132-1d1f-46e5-9c3a-b9170a25073c" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>modified_condition = condition_text + port_condition_suffix.format(phy_names[phy_i]);print(modified_condition)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="6ff346a9-46ca-4d88-8154-f4e4a487c748" action="json" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;[modified_condition]&quot;}&apos;</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                <action inherit="false">setJsonValue</action>
                                                                                <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;[modified_condition]&quot;}</pathValue>
                                                                                <documentName inherit="false">condition</documentName>
                                                                            </applicationProperties>
                                                                        </item>
                                                                        <item guid="323d62d9-e7af-4892-b8b2-6de0b1d11e4b" action="json" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=false, documentName=&apos;request_body&apos;, pathValue=&apos;{&quot;customConditions/\\\\[[condition_index]]&quot;:\\\\[[condition]]}&apos;</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                <action inherit="false">addJsonNode</action>
                                                                                <pathValue inherit="false" sub="true">{&quot;customConditions/\\[[condition_index]]&quot;:\\[[condition]]}</pathValue>
                                                                                <documentName inherit="false">request_body</documentName>
                                                                            </applicationProperties>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="3bbc17a5-6f40-402b-b3f6-6890d9d1f8e7" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="0b49a3aa-377c-4848-9c75-e9eb579bd546" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>id in port_ids:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="728e006e-c29a-4ebe-b38a-cf72a3be5980" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[id]&quot;}&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">setJsonValue</action>
                                                        <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[id]&quot;}</pathValue>
                                                        <documentName inherit="false">condition</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="592053e1-c129-47f7-aab3-c6e01a80f652" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>query_path = &apos;//items/item[id = &quot;{0}&quot;]/condition&apos;.format(id)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="bd5a968d-5e4c-441b-b647-dd970d730de9" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>condition_text = query(&apos;topo_resources_xml&apos;, query_path);print(condition_text)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="ba679af3-e757-4eb1-bb4e-915d0f90490f" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>query_path = &apos;//items/item[id = &quot;{0}&quot;]/name&apos;.format(id)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="8dc03a83-c7cf-460b-8b14-21a9fd5769eb" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>port_name = query(&apos;topo_resources_xml&apos;, query_path);print(port_name)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="9fe223de-0b1f-4bb9-b37a-6eeb726760cc" action="eval" skip="true" useFieldsInCommand="false">
                                                    <command>
                                                        <body>port_matches = re.search(r&quot;Port (\\d+)&quot;, port_name);print(port_matches)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="212e4d04-ef1e-44dc-8c39-3350bf4b1ca0" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>port_id = int(port_name.replace(&quot;Port &quot;, &quot;&quot;));print(port_id)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="6801c288-63f5-4b9a-8cc9-e1b3707850e2" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>modified_condition = condition_text + port_condition_suffix.format(port_id + 1);print(modified_condition)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="a16b79da-f318-4200-a037-915a8017da64" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;[modified_condition]&quot;}&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">setJsonValue</action>
                                                        <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;[modified_condition]&quot;}</pathValue>
                                                        <documentName inherit="false">condition</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="d92c3a60-3d9f-42c1-bd12-afdbdaf2195c" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=false, documentName=&apos;request_body&apos;, pathValue=&apos;{&quot;customConditions/\\\\[[condition_index]]&quot;:\\\\[[condition]]}&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">addJsonNode</action>
                                                        <pathValue inherit="false" sub="true">{&quot;customConditions/\\[[condition_index]]&quot;:\\[[condition]]}</pathValue>
                                                        <documentName inherit="false">request_body</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="54580954-3006-4131-8f99-f374f2718f1c" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>condition_index += 1</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="891ea5b5-c37e-45d5-9908-931db8f408a5" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="419ef6e2-2b24-4e82-b73e-c454b3c904b4" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Insert steps here for when expression is false</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="ec34b7af-40e2-4e72-b44b-d5c0008b19fb" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Reserve Topology</body>
                    </command>
                    <nestedSteps>
                        <item guid="acc17311-79eb-4c72-aa12-5c218c1695d8" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>time_out = 180</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="766791b0-6b9b-4d4d-aeac-efb592793b05" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>reservation_status = &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="743ab154-52f8-4001-8712-bf5f71e8a307" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(request_body)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="855b7785-7c91-40fc-a279-518c1856280e" action="POST" session="s1">
                            <command>
                                <body>velocity/api/reservation/v21/reservation</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>id()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>str(value) != &quot;&quot;</expression>
                                                <actionsWhenFalse>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Failed to reserve topology [topology_name]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="ExitProcedure">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>id()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>reservation_id</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" message="[request_body]" message.inherit="false" action="velocity/api/reservation/v21/reservation" action.inherit="false">
                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                    <memberClasses>
                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                    </memberClasses>
                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry" header="Content-Type" header.inherit="false" value="application/json" value.inherit="false"/>
                                </httpHeader>
                            </applicationProperties>
                        </item>
                        <item guid="d8ce5c00-c58f-47c4-beb0-3f574ceff696" action="sleep">
                            <command>
                                <body>5</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="0983a2e1-de68-4af4-b93e-04d167267654" action="GET" session="s1">
                            <command>
                                <body>velocity/api/reservation/v21/reservation/[reservation_id]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>status()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>reservation_status</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>status()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>str(value) == &quot;FAILED&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/failReason</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>str(value) != &quot;&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Failed to reserve topology [topology_name] - reason: {value}</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="ExitProcedure">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="velocity/api/reservation/v21/reservation/[reservation_id]" action.inherit="false"/>
                        </item>
                        <item guid="d1fa5362-1b54-4e6e-b0dc-6d77a7d48587" action="while" useFieldsInCommand="false">
                            <command>
                                <body>reservation_status != &quot;ACTIVE&quot; and reservation_status != &quot;ERROR&quot; and time_out &gt;= 0:</body>
                            </command>
                            <nestedSteps>
                                <item guid="5cfe1e03-482a-4a41-9679-2377af46ff4d" action="sleep">
                                    <command>
                                        <body>5</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="162991b0-7b53-4154-9834-a4724378181a" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>time_out -=5 </body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8f223dc3-bcf8-46cd-b2bc-f8ca6ee30470" action="GET" session="s1">
                                    <command>
                                        <body>velocity/api/reservation/v21/reservation/[reservation_id]</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>status()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>reservation_status</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>status()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>str(value) == &quot;FAILED&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>mapped/Json/failReason</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>str(value) != &quot;&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                    <message>Failed to reserve topology [topology_name] - reason: {value}</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="ExitProcedure">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="velocity/api/reservation/v21/reservation/[reservation_id]" action.inherit="false"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="792b54aa-51af-4ffb-aebc-eacb0b5e0d66" action="if" useFieldsInCommand="false">
                            <command>
                                <body>time_out &lt; 0:</body>
                            </command>
                            <nestedSteps>
                                <item guid="a4b71019-59e5-4569-b90c-ad4975510e82" action="message" useFieldsInCommand="false">
                                    <command>
                                        <body>Error:Reserve topology [topology_name] - status: [reservation_status]</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="none">
                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>True</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="ExitProcedure">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                        <severity inherit="false">Error</severity>
                                        <message inherit="false">Reserve topology [topology_name] - status: [reservation_status]</message>
                                    </applicationProperties>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="809e318b-68c5-4060-8bbb-a8419efc758f" action="message" useFieldsInCommand="false">
                            <command>
                                <body>OK:Reserve topology [topology_name] - status: [reservation_status]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <severity inherit="false">OK</severity>
                                <message inherit="false">Reserve topology [topology_name] - status: [reservation_status]</message>
                            </applicationProperties>
                        </item>
                        <item guid="254dcec1-ce3e-49ef-903c-b0f86a008866" action="return">
                            <command>
                                <body>[reservation_id]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="topology_id">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="tas_name"/>
                <item name="ts_name_pattern"/>
                <item name="ts_ports"/>
                <item name="routing">
                    <defaultValue>false</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="reservation_time">
                    <defaultValue>1800</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="release_topology" isPublic="true">
            <steps>
                <item guid="ea17f1e0-42dd-4955-8647-292a55162f31" action="POST" session="s1">
                    <command>
                        <body>velocity/api/reservation/v21/reservation/[reservation_id]/action?type=cancel</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>statusCode/@value</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>int(value) == 200</expression>
                                        <actionsWhenTrue>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>Stop reservation &quot;[reservation_id]&quot; successful</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Stop reservation &quot;[reservation_id]&quot; failed</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" message.inherit="false" action="velocity/api/reservation/v21/reservation/[reservation_id]/action?type=cancel" action.inherit="false">
                        <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                            <memberClasses>
                                <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                            </memberClasses>
                            <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry" header="Content-Type" header.inherit="false" value="application/json" value.inherit="false"/>
                        </httpHeader>
                    </applicationProperties>
                </item>
            </steps>
            <arguments>
                <item name="reservation_id">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="change_ts_mode" isPublic="true">
            <steps>
                <item guid="03668deb-d2dc-4d3a-b9ad-bc825326a665" action="GET" session="s1">
                    <command>
                        <body>velocity/api/reservation/v21/reservation/[reservation_id]/resources</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//items/item[name = &quot;TAS&quot;]/inventoryResourceId</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tas_resource_id</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//items/item[name = &quot;Emulated SUT&quot;]/inventoryResourceId</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>emulated_sut_resource_id</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="velocity/api/reservation/v21/reservation/[reservation_id]/resources" action.inherit="false"/>
                </item>
                <item guid="367f08a2-3af1-4d28-9000-d8920b5732d6" action="GET" session="s1">
                    <command>
                        <body>/velocity/api/inventory/v18/device/[tas_resource_id]</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//properties/item[name = &quot;Hostname&quot;]/value</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tas_hostname</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//properties/item[name = &quot;ipAddress&quot;]/value</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tas_ipaddress</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="/velocity/api/inventory/v18/device/[tas_resource_id]" action.inherit="false"/>
                </item>
                <item guid="ac696821-40cb-4c87-94bb-b14c0a118610" action="GET" session="s1">
                    <command>
                        <body>/velocity/api/inventory/v18/device/[emulated_sut_resource_id]</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//properties/item[name = &quot;TS Name&quot;]/value</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>ts_emulated_sut_name</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="/velocity/api/inventory/v18/device/[emulated_sut_resource_id]" action.inherit="false"/>
                </item>
                <item guid="76979bcb-7a88-44f0-92ab-7aa09155d2b2" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>tas_api_url = &quot;{0}:8080/api&quot;.format(tas_hostname if tas_hostname else tas_ipaddress)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="da36e9f4-e5e4-4dbe-935a-46511f814140" action="if" useFieldsInCommand="false">
                    <command>
                        <body>not tas_api_url.startswith(&quot;http&quot;):</body>
                    </command>
                    <nestedSteps>
                        <item guid="dc87ce1b-001b-46b5-9381-8f106627efa0" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tas_api_url = &quot;http://{0}&quot;.format(tas_api_url)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="022d1d26-5a31-4366-b7f1-40ece4c8b5f5" action="call" useFieldsInCommand="false">
                    <command>
                        <body>get_library_id(ls_testsession_name=ls_testsession_name)</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>library_id</storeResponseAt>
                        <storeResponseText>true</storeResponseText>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="e9efac6e-6e6e-493f-ba06-35dd8fe30eaf" action="open" session="s2">
                    <command>
                        <body>application:com.spirent.itest.applications.landsliderest</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                        <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.spirent.itest.applications.landsliderest" transferableType="com.spirent.itest.applications.landsliderest.properties.LandslideRestSessionProperties" landslideRESTAPI="[tas_api_url]" landslideRESTAPI.inherit="false">
                            <authentication transferableToolId="com.spirent.itest.applications.landsliderest" transferableType="com.spirent.itest.applications.landsliderest.properties.LandslideRestAuthenticationProperties" user="[param(&apos;tas_username&apos;)]" user.inherit="false" password.masked="false" password="[param(&apos;tas_password&apos;)]" password.inherit="false"/>
                        </sessionProperties>
                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                    </applicationProperties>
                </item>
                <item guid="8984942f-ffec-4621-862d-dfd7e09d23a8" action="Custom" session="s2">
                    <command>
                        <body>-requestMethod GET -dataType json -rawResponse true -url libraries/[library_id]/testsessions</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query sub="true">//testSessions/item\\[name = &quot;[ls_testsession_name]&quot;]/keywords</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>ls_session_keywords</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>available_test_sessions</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="libraries/[library_id]/testsessions" url.inherit="false"/>
                </item>
                <item guid="fe150ed3-b02c-44bc-9b28-2b5cc0e6b682" action="Custom" session="s2">
                    <command>
                        <body>-requestMethod GET -dataType json -rawResponse true -url testServers</body>
                    </command>
                    <postProcessing>
                        <storeResponseAt>test_servers_xml</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" rawResponse="true" rawResponse.inherit="false" url="testServers" url.inherit="false"/>
                </item>
                <item guid="7c492162-75ef-47b5-abf5-7b8330f143bd" action="close" session="s2">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="reservation_id">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ls_testsession_name">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="get_library_id" isPublic="true">
            <steps>
                <item guid="e45a8e2e-df67-4996-a3fb-9f26b50d91e8" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>testcase_name = ls_testsession_name;print(testcase_name)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="69c797d7-7735-4712-8db6-88642d72e0b3" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>library_id = &quot;&quot;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="13385850-7c6c-41aa-aaec-e20b944b2cba" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Get test type</body>
                    </command>
                    <nestedSteps>
                        <item guid="63500cce-a391-41d6-a8f3-62c72149e9b5" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>is_cp_pf = &quot;-CP_&quot; in testcase_name or &quot;-CP-&quot; in testcase_name or &quot;-PF_&quot; in testcase_name or &quot;-PF-&quot; in testcase_name</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a6a93ca9-ee40-4912-b2cf-9c79a8c7b31a" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>is_cusa_test = &quot;-CUSA-&quot; in testcase_name or &quot;-CUSA_&quot; in testcase_name</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="0586fac4-15be-4dc9-b1a5-4388acea4577" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>is_compliance = &quot;-CO_&quot; in testcase_name or &quot;-CO-&quot; in testcase_name</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="0387e78a-35bf-4e9d-b537-2923fcb6435a" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>is_dusa_test = &quot;-DUSA-&quot; in testcase_name or &quot;-DUSA_&quot; in testcase_name</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="5371c12d-b55d-4104-bb56-355127ff12cd" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>is_security = testcase_name.startswith(&quot;S-&quot;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="2097243f-11b6-4d1e-96e4-39e514f7d0f6" action="if" useFieldsInCommand="false">
                    <command>
                        <body>is_cusa_test and is_cp_pf:</body>
                    </command>
                    <nestedSteps>
                        <item guid="5c049291-55d3-4e68-80d2-42768bd37560" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>library_id = param(&apos;Official_Library_IDs/ORAN_CU_Capacity_And_Performance&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9d3dcd7e-74d3-4ff6-b47b-d0cdc2429ad7" action="elif" useFieldsInCommand="false">
                    <command>
                        <body>is_cusa_test and is_compliance:</body>
                    </command>
                    <nestedSteps>
                        <item guid="818d6628-6cfe-4202-ac3e-5d2156054a57" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>library_id = param(&apos;Official_Library_IDs/ORAN_CU_Compliance&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9c5c69ac-c997-4799-90cf-34b4693421e8" action="elif" useFieldsInCommand="false">
                    <command>
                        <body>is_dusa_test and is_cp_pf:</body>
                    </command>
                    <nestedSteps>
                        <item guid="7ce66046-1f21-4ae7-a2e3-96123a2b0d1a" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>library_id = param(&apos;Official_Library_IDs/ORAN_DU_Capacity_And_Performance&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="520efefe-2375-4c8e-8024-2571f3b62168" action="elif" useFieldsInCommand="false">
                    <command>
                        <body>is_dusa_test and is_compliance:</body>
                    </command>
                    <nestedSteps>
                        <item guid="e327bcb6-5f38-478f-8c8c-573eac274b71" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>library_id = param(&apos;Official_Library_IDs/ORAN_DU_Compliance&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9c2398ae-d852-44a6-8ca2-a851a27f50ba" action="elif" useFieldsInCommand="false">
                    <command>
                        <body>is_security:</body>
                    </command>
                    <nestedSteps>
                        <item guid="2362aab2-c7c9-46e2-a3b8-1a0c2a00b4b8" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>library_id = param(&apos;Official_Library_IDs/Security&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="0cc007b3-83b6-4100-9a25-8fbbac6914e3" action="elif" useFieldsInCommand="false">
                    <command>
                        <body>is_cp_pf:</body>
                    </command>
                    <nestedSteps>
                        <item guid="86f2ec38-aceb-4521-9a70-c40990eb3e01" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>library_id = param(&apos;Official_Library_IDs/Capacity_And_Performance&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="94dcc96f-a04f-418a-87bb-fe7e17e9b252" action="elif" useFieldsInCommand="false">
                    <command>
                        <body>is_compliance:</body>
                    </command>
                    <nestedSteps>
                        <item guid="463cd728-60be-47cb-b050-e81d56c95e57" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>library_id = param(&apos;Official_Library_IDs/Compliance&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="91408df6-9da7-43b0-bb80-0c2998f03900" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>// TODO for ORAN E2E and ORAN RIC</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="a5ebf022-a51e-49a6-8fbf-dcabadcbef34" action="return">
                    <command>
                        <body>[library_id]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <multilineDescription>Auto-generates the official library ID based on the test name.</multilineDescription>
            <arguments>
                <item name="ls_testsession_name">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
    </procedures>
</testCase>
