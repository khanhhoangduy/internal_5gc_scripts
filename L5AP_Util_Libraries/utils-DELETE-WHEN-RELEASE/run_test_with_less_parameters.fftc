<?xml version="1.0"?>
<testCase version="24.4.0.202410040646">
    <general>
        <notes>Copy or move this test to &apos;ai_LS_5G&apos; project.
Create &apos;topologies&apos; folder then import all 5GC Topologies from Velocity to.</notes>
        <owner>khoang</owner>
        <language>Python</language>
        <xPathVersion>XPATH31</xPathVersion>
    </general>
    <execution>
        <parameters version="24.4.0.202410040646">
            <parameters escape="true">
                <parameters xmlns:pt="http://www.fnfr.com/schemas/parameterTree">
                    <velocity_url pt:description="Velocity URL">https://10.71.20.155/</velocity_url>
                    <username pt:description="Velocity user name">spirent</username>
                    <password pt:description="Velocity password" pt:mask="true">AiRWju4XCF4yE1MRmRsaTQ==</password>
                    <tc_dir pt:description="Test case location or folder.">project://ai_LS_5G/testcases/</tc_dir>
                    <tas_name pt:description="TAS host name">10.71.20.167</tas_name>
                    <tas_username pt:description="TAS user name">sms</tas_username>
                    <tas_password pt:description="TAS password" pt:mask="true">R4CPLwlDFA4Jor6ZZIWzzg==</tas_password>
                    <ts_name pt:description="Test Server name(s) - The following order of TS and parameter files will be assigned. Example: ac-landslide-kvm-ts1a;ac-landslide-kvm-ts1b"/>
                    <ports pt:description="Test Server port(s). Example: 2,3;2,3,4"/>
                    <routing pt:datatype="BOOLEAN" pt:description="Enable routing - auto using kvm if does not specify ts_name">false</routing>
                    <reservation_time pt:datatype="INTEGER" pt:description="Reservation time for each topology for one test">3600</reservation_time>
                    <optimistic_mode pt:datatype="BOOLEAN" pt:description="Enable optimistic mode - for CP, PF tests">false</optimistic_mode>
                    <parameter_key_value pt:description="Additional Parameter key value for specified tests, seperated by ;. Example: TC_parameters/Session_Capacity=10"/>
                    <include_rnh_mode pt:datatype="BOOLEAN" pt:description="Include Remote Network Host mode">true</include_rnh_mode>
                    <topology_reserve_timeout pt:datatype="INTEGER" pt:description="Estimated wait time for reservation success">180</topology_reserve_timeout>
                    <topology_name_or_id pt:description="Specified Velocity Topology name">5GC-Auto-5GC-b2b-W-2TS</topology_name_or_id>
                    <topology_local_folder pt:description="Local topology folder that imported from Velocity">topologies</topology_local_folder>
                    <tas_library_name pt:description="TAS library name"/>
                    <ste_file pt:description="STE file location. Example: D:/clister/5gc-aap - ste/5gc-r15/I-CUSA-66-CO_F1CplaneGnbDuConfigUpdateNrSaCellMod.ste"/>
                </parameters>
            </parameters>
        </parameters>
    </execution>
    <procedures>
        <item name="main">
            <steps>
                <item guid="41b17c2c-f5a7-456f-934d-f48ab07f82cc" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Import Python library</body>
                    </command>
                    <nestedSteps>
                        <item guid="445090d8-df0f-4d3c-8861-7f30a1ef367c" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>import re</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="076b46bc-bf3d-4179-add5-09990a426a28" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>import random</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="9fe1f5ea-5453-4bb9-a4ae-52f5fef9196c" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Initialize variables</body>
                    </command>
                    <nestedSteps>
                        <item guid="1d8404ec-acb3-40c4-9689-2485c7283d0b" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>current_path = info(&apos;testCaseFile&apos;, &apos;current&apos;, &apos;uri&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="ac77e372-c58b-4605-83a2-b94a1af03050" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>current_path = current_path[:current_path.rindex(&apos;/&apos;) + 1];print(current_path);print(current_path)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="9c58777a-4006-4f1b-a831-738549d8c5cb" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>topology_local_folder = param(&apos;topology_local_folder&apos;, &apos;topologies&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="825f6e1f-1ce2-4694-a52a-99866a2396ed" action="if" useFieldsInCommand="false">
                            <command>
                                <body>topology_local_folder.endswith(&apos;/&apos;) or topology_local_folder.endswith(&apos;\\\\&apos;):</body>
                            </command>
                            <nestedSteps>
                                <item guid="4ff8bfd9-56a3-4adf-8b02-a27e02ebcdb1" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>topology_local_folder = topology_local_folder[:-1]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="d14a77c0-89b6-4326-a82c-966577d74c9a" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>current_topology_path = current_path + topology_local_folder + &apos;/&apos;;print(current_topology_path)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="83cd76c2-c813-4b76-9b62-9048780e4fa5" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>current_project_name = info(&apos;testCaseProject&apos;, &apos;main&apos;);print(current_project_name)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="49f2a4f3-45ce-46d9-a1a0-47510d639cc0" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>current_project_uri = current_path[:current_path.index(current_project_name) + len(current_project_name) + 1];print(current_project_uri)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f89f5b2f-4b89-46ba-aa8c-3020652092e5" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>current_testcase_location = info(&apos;testCaseFile&apos;, &apos;main&apos;, &apos;path&apos;);print(current_testcase_location)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="5fd39e13-b256-4a86-8376-c301d043ec25" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>current_folder_location = current_testcase_location[:current_testcase_location.rindex(&apos;\\\\&apos;)].replace(&quot;\\\\&quot;, &quot;/&quot;);print(current_folder_location)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="40c1eabf-0b33-4372-a1de-53c0a5a620a0" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>walk_dir = param(&apos;tc_dir&apos;);print(walk_dir)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="30bba3db-0104-4b41-b074-3475454d4497" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>topology_dict = dict()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="001cacfb-41eb-4572-80f3-b05e4324b542" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>topologypath_dict = dict()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a8511bb0-59ed-478f-93c9-2f98c7ad1351" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>topologytag_dict = dict()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="9aa9de25-b966-4196-89d3-6ce8c077c18f" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testcase_dict = dict()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="ad60f319-5419-4213-8836-70d7f96f0d02" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>file_name_pattern = &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="077e2e7b-9f19-415c-859b-4b44cb3125da" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>testcasepath_dict = dict()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e909dd05-9b69-49ac-b0dd-994e954c8439" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>parameterpath_dict = dict()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="d61af7b0-1805-4709-a211-020f2129a92a" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>test_resullt_dict = dict()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="83e966e5-773c-48be-aa2b-4178dc592cd1" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>tag_pattern = re.compile(r&apos;(&lt;tags&gt;([a-zA-Z0-9-,\\s]+)&lt;\\/tags&gt;)&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="4d34ceff-a768-4254-9356-6ad956a9777d" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ls_session_pattern = re.compile(r&apos;(&lt;body&gt;node_test_session = &amp;quot;([a-zA-Z0-9-_]+)&amp;quot;&lt;\\/body&gt;)&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="37bf4fa8-d961-4935-87c2-13d157151fbc" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ls_session_name_dict = dict()</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="8f809169-0123-4610-899b-00fe2f718f95" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>insclude_rnh_mode = param(&apos;include_rnh_mode&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="2b9e3893-ba2e-4e42-9bf1-0f2d30be5135" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>test_sequencer = param(&apos;test_sequencer&apos;, &quot;&quot;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="23ec4a33-1483-4d9c-a79f-8a3ed8eff132" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>automation_modes = []</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="515bc7f4-c38a-4489-bbb3-7291b0e8c58b" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>topology_name_or_id = param(&apos;topology_name_or_id&apos;, &apos;&apos;)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="6ea2fdec-5973-4c8e-aba1-dc1cc3322b6d" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ste_imported_list = []</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a440a54f-77c4-4900-9014-07f4827765d6" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>original_testcase_data = {}</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="5eb72f92-88c2-4aa1-970d-d697d86969e9" action="if" useFieldsInCommand="false">
                            <command>
                                <body>test_sequencer:</body>
                            </command>
                            <nestedSteps>
                                <item guid="02a8d869-88a8-40b5-bdf8-b12a719d8dcc" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>isinstance(test_sequencer, (list, tuple)):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="656392ce-e54c-473f-abf3-f57454815c47" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>sequencer_parts = test_sequencer</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="48a362cc-5bd4-4f93-a3b7-6b0dea0dd090" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>is_list = True</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="641adefd-a030-42b0-a7cf-3c56e81b9293" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="774a6bc1-0b57-4f91-ae9e-478ddb9ef8af" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>sequencer_parts = test_sequencer.split(&apos;/&apos;);print(sequencer_parts)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f78126c8-8fc0-4536-863f-de02d3bd0cfd" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>is_list = False</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="771f8c95-e6ec-4928-9876-ffeb0101ab43" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>sequencer_part in sequencer_parts:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="a51b5016-3af4-4147-b6a9-b4f8ec08e072" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>mode_tas_name = mode_ts_name = mode_ports = &quot;&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="186dc7f1-e691-4640-9e2c-7117baae6972" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>mode_routing = mode_optimistic_mode = mode_rnh_mode = &quot;false&quot;;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="bc1f95c6-0ba0-46f9-8feb-195819a1d19f" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>is_list:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="69b663ff-22ec-409b-a08a-5ec4fe160ac2" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>print(sequencer_part)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="b4d349dc-1c02-43ef-92e6-5b418fc7c205" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>not isinstance(sequencer_part, (list, tuple)) or len(sequencer_part) != 6:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="a0763f68-2c85-417a-ae04-2aea682359ff" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Warning:Your input &quot;test_sequencer/item\\[[sequencer_parts.index(sequencer_part)]]&quot; doesn&apos;t match the expected format. To avoid errors, I&apos;ll use the default setting.</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <severity inherit="false">Warning</severity>
                                                                <message inherit="false">Your input &quot;test_sequencer/item\\[[sequencer_parts.index(sequencer_part)]]&quot; doesn&apos;t match the expected format. To avoid errors, I&apos;ll use the default setting.</message>
                                                            </applicationProperties>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="0c9a693e-9219-4f35-9dce-087ae4dead0b" action="else" useFieldsInCommand="false">
                                                    <nestedSteps>
                                                        <item guid="66edb7d3-24de-4472-9f83-fef7531b09eb" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>mode_tas_name = sequencer_part[0];print(mode_tas_name)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="0379be14-1557-4c88-b056-2df811485517" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>mode_ts_name = sequencer_part[1];print(mode_ts_name)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="e6b40ab5-9c19-4b02-bc2a-ec8e49c9229d" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>mode_ports = sequencer_part[2];print(mode_ports)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="850b5bba-550d-4c65-9e9f-c0842a0919ba" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>mode_routing = str(sequencer_part[3]).lower();print(mode_routing)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="eaf48311-6def-4f1c-997c-c5c79908e9a4" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>mode_optimistic_mode = str(sequencer_part[4]).lower();print(mode_optimistic_mode)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="7143061a-86a0-407b-9ebb-1726b250b60f" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>mode_rnh_mode = str(sequencer_part[5]).lower();print(mode_rnh_mode)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="16f1f264-e475-4861-b73b-82eca887009e" action="else" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="4b13261c-9e5f-4d7b-b477-edfcf1402b8c" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>mode_parts = sequencer_part.split(&apos;;&apos;);print(mode_parts)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="769f8084-ba46-4a16-b9e8-356341ff1d02" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>part in mode_parts:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="5b6aff69-654c-4ad2-9f2b-5a5f4fd0f6e3" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>part.startswith(&apos;tas_name:&apos;):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="9e72615d-8017-4104-9c84-6f9b12944b12" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>mode_tas_name = part.replace(&apos;tas_name:&apos;, &apos;&apos;);print(mode_tas_name)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="e6cfe3f6-7192-4e83-ae5c-c11bafe5c2ae" action="elif" useFieldsInCommand="false">
                                                            <command>
                                                                <body>part.startswith(&apos;ts_name:&apos;):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="431491b4-e917-439f-9d7f-00fd1c07c15d" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>mode_ts_name = part.replace(&apos;ts_name:&apos;, &apos;&apos;).replace(&apos;+&apos;, &apos;;&apos;);print(mode_ts_name)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="a84390bd-e9f1-41bc-9bf9-24030a278b74" action="elif" useFieldsInCommand="false">
                                                            <command>
                                                                <body>part.startswith(&apos;ports:&apos;):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="ac6ad970-257d-4a81-91ee-fa6933e95b84" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>mode_ports = part.replace(&apos;ports:&apos;, &apos;&apos;).replace(&apos;+&apos;, &apos;;&apos;);print(mode_ports)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="2f80037c-c47f-40cd-a63a-fa65db2460a4" action="elif" useFieldsInCommand="false">
                                                            <command>
                                                                <body>part == &apos;routing&apos;:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="9781283a-4206-4b2d-b991-b01f066d6f9b" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>mode_routing = &apos;true&apos;;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="cc1cf8d1-51fe-4ca7-9205-7a4a484426ba" action="elif" useFieldsInCommand="false">
                                                            <command>
                                                                <body>part == &apos;optimistic_mode&apos;:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="1a66511c-056f-4160-913f-8075b43ede48" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>mode_optimistic_mode = &apos;true&apos;;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="c6755999-fd41-4f8a-82de-0980449176c3" action="elif" useFieldsInCommand="false">
                                                            <command>
                                                                <body>part == &apos;rnh_mode&apos;:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="ff7e4002-3790-4ca8-917b-3b8f8967672b" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>mode_rnh_mode = &apos;true&apos;;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="1451f9fc-87c4-43f5-b388-e841f43ce9d5" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;createJson&apos;, documentName=&apos;mode_json&apos;, fromFile=false, jsonString=&apos;{&quot;tas_name&quot;:&quot;[mode_tas_name]&quot;,&quot;routing&quot;:&quot;[mode_routing]&quot;,&quot;ts_name&quot;:&quot;[mode_ts_name]&quot;,&quot;rnh_mode&quot;:&quot;[mode_rnh_mode]&quot;,&quot;ports&quot;:&quot;[mode_ports]&quot;,&quot;optimistic_mode&quot;:&quot;[mode_optimistic_mode]&quot;}&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">createJson</action>
                                                <jsonString inherit="false" sub="true">{&quot;tas_name&quot;:&quot;[mode_tas_name]&quot;,&quot;routing&quot;:&quot;[mode_routing]&quot;,&quot;ts_name&quot;:&quot;[mode_ts_name]&quot;,&quot;rnh_mode&quot;:&quot;[mode_rnh_mode]&quot;,&quot;ports&quot;:&quot;[mode_ports]&quot;,&quot;optimistic_mode&quot;:&quot;[mode_optimistic_mode]&quot;}</jsonString>
                                                <documentName inherit="false">mode_json</documentName>
                                            </applicationProperties>
                                        </item>
                                        <item guid="ccfc275c-b3fa-43a2-9f86-c25890016e2b" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>automation_modes.append(mode_json)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f6e76da7-b9c7-4ede-a52d-52eb20591f96" action="else" useFieldsInCommand="false">
                            <nestedSteps>
                                <item guid="6843b814-8518-4971-82e2-64b8ea5cd459" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>mode_ts_name = param(&apos;ts_name&apos;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="b85b746d-912d-44d2-bd3b-ac5a878e32f6" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>mode_tas_name = param(&apos;tas_name&apos;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="a67425c8-7733-4a53-8a84-1696f0e52e03" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>mode_ports = param(&apos;ports&apos;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="807fbb23-f6bd-4ca2-a4f9-acdb9b6edced" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>mode_routing = mode_optimistic_mode = mode_rnh_mode = &quot;false&quot;;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="0c739070-c473-4c74-8ddb-293a738103c3" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>param(&apos;optimistic_mode&apos;):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="3c918eae-ba96-4fa7-86d7-41f2ffa428c2" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>mode_optimistic_mode = &apos;true&apos;;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="bae9e6df-e01a-423f-bb9a-8c582ed40abb" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>param(&apos;routing&apos;):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="019bc93a-5852-4227-afb6-0868b19bfb2f" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>mode_routing = &apos;true&apos;;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="f8e8bd46-d9eb-46b0-aa96-5dd92c655782" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>param(&apos;include_rnh_mode&apos;):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="f9d7a2d0-6877-4dad-9738-a55f8f3fec68" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>mode_rnh_mode = &apos;true&apos;;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="436afc6c-3c4e-46a9-b759-cb4f924c3b63" action="json" useFieldsInCommand="false">
                                    <command>
                                        <body>action=&apos;createJson&apos;, documentName=&apos;mode_json&apos;, fromFile=false, jsonString=&apos;{&quot;tas_name&quot;:&quot;[mode_tas_name]&quot;,&quot;routing&quot;:&quot;[mode_routing]&quot;,&quot;ts_name&quot;:&quot;[mode_ts_name]&quot;,&quot;rnh_mode&quot;:&quot;[mode_rnh_mode]&quot;,&quot;ports&quot;:&quot;[mode_ports]&quot;,&quot;optimistic_mode&quot;:&quot;[mode_optimistic_mode]&quot;}&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                        <action inherit="false">createJson</action>
                                        <jsonString inherit="false" sub="true">{&quot;tas_name&quot;:&quot;[mode_tas_name]&quot;,&quot;routing&quot;:&quot;[mode_routing]&quot;,&quot;ts_name&quot;:&quot;[mode_ts_name]&quot;,&quot;rnh_mode&quot;:&quot;[mode_rnh_mode]&quot;,&quot;ports&quot;:&quot;[mode_ports]&quot;,&quot;optimistic_mode&quot;:&quot;[mode_optimistic_mode]&quot;}</jsonString>
                                        <documentName inherit="false">mode_json</documentName>
                                    </applicationProperties>
                                </item>
                                <item guid="2f1b101c-d840-4e38-bc20-55a153d20c20" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>automation_modes.append(mode_json)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="4ddde098-185c-499a-b80b-496b41823cb4" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Connect to Velocity and get topology id, name, tag</body>
                    </command>
                    <nestedSteps>
                        <item guid="4585fbb1-c123-478d-9d82-b52175adc823" action="open" session="s1">
                            <command>
                                <body>application:com.fnfr.itest.applications.webservices.restful</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulSessionProperties" url="[param(&apos;velocity_url&apos;)]" url.inherit="false" version="2" version.inherit="false">
                                    <authentication transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.AuthenticationProperties" authenticationType="Basic" authenticationType.inherit="false" user="[param(&apos;username&apos;)]" user.inherit="false" password.masked="false" password="[param(&apos;password&apos;)]" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                </sessionProperties>
                                <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </applicationProperties>
                        </item>
                        <item guid="b108a728-0452-4a22-a541-1bcae344d598" action="GET" session="s1">
                            <command>
                                <body>/velocity/api/topology/v18/topologies?limit=100</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>statusCode/@value</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>int(value) == 200</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                            <message>Get Topology information from Velocity [param(&apos;velocity_url&apos;)]</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Cannot get Topology information from Velocity [param(&apos;velocity_url&apos;)].</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="ExitProcedure">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>//topologies/item/id</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>topology_id_list</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>//topologies/item/name</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>topology_name_list</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                                <storeResponseAt>topologies_xml</storeResponseAt>
                            </postProcessing>
                            <eventHandlers>
                                <item name="OnToolError">
                                    <item actionId="DeclareExecutionIssue">
                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                            <message>{error}</message>
                                        </actionProperties>
                                    </item>
                                    <item actionId="FailTest">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                    <item actionId="ExitExecution">
                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </item>
                                </item>
                            </eventHandlers>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="/velocity/api/topology/v18/topologies?limit=100" action.inherit="false"/>
                        </item>
                        <item guid="292884e3-de3c-481f-9c68-064c386da23c" action="for" useFieldsInCommand="false">
                            <command>
                                <body>idx, tag in enumerate(topology_name_list):</body>
                            </command>
                            <nestedSteps>
                                <item guid="4b258a1a-eada-4157-9d7a-94b9369efbd6" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>topo_id = topology_id_list[idx]; print(topo_id)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="84a26b87-0c60-408e-9a81-66b9f7ddb942" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>topo_name = topology_name_list[idx];print(topo_name)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="7ee237f5-bb1e-458d-8cfc-f30982e90538" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>topo_path = topology_local_folder + &apos;/&apos; + topo_name + &apos;.tbml&apos;;print(topo_path)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c91270cf-fcef-455d-a556-8cacad665b77" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>not os.path.exists(current_folder_location + &apos;/&apos; + topo_path):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="50c49adf-e137-47ee-be85-80cf5342d21a" action="continue" useFieldsInCommand="false">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="cf831b90-3a56-4bdc-9ccd-1c3d10452e48" action="elif" useFieldsInCommand="false">
                                    <command>
                                        <body>topology_name_or_id and topology_name_or_id != topo_name:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="c901f52f-d279-4294-b6f8-bb2056d9774b" action="continue" useFieldsInCommand="false">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="43fb6118-dfcf-4c19-94a5-17b17ad01f46" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="5b7cf3a9-f93a-47f3-8195-343ebd79cc17" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:     + [topo_name]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">     + [topo_name]</message>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="b7c73b3f-bd82-4f98-9d10-54b78b37bc90" action="eval" useFieldsInCommand="false">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="738dadcc-9762-41ad-a314-48daddb75cc8" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>query_path = &apos;//topologies/item[id = &quot;{0}&quot;]/tags/item&apos;.format(topo_id);print(query_path)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="f8755cc8-3e25-4d10-b671-eaa99bc4078d" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>topo_tags = query(&apos;topologies_xml&apos;, query_path);print(topo_tags)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="179f0ec9-09c2-4a92-92c4-28a06805a213" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>topologypath_dict[topo_id] = topo_path</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c16325ef-e7f9-47e8-a6f0-c178c08d2b71" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>topology_dict[topo_id] = topo_name</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="8a69c2fe-fd6b-4f0b-992c-88ffff16c0ba" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>not topo_tags:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ba291889-0405-4b20-9bdb-6c13413871f1" action="continue" useFieldsInCommand="false">
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="a2dba1d5-2f8f-438e-8f41-99d05f999cac" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>isinstance(topo_tags, str):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="1b0d7770-e089-4e4a-94d4-0ec069759b80" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>topo_tags = [topo_tags]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="4ab3ac4a-1b30-4c22-af9d-74da5bf3f2bc" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>topo_name.endswith(&apos;RNH&apos;):</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="ccc7fc5b-b320-44dd-99b2-3003961f4a34" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>tag_suffix = &apos;-RNH&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="5024bbb8-7166-41fa-89ba-d11e62a45dc4" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="10a4052c-6bea-49f5-bb9e-521e633bf4e9" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>tag_suffix = &apos;&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="7153c4bf-59bd-460a-8aea-979cf4a3edd2" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>tag in topo_tags:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="a3750304-c9f7-4773-9241-474394f16165" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>topologytag_dict[tag + tag_suffix] = topo_id</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="6766ff0e-7f72-43e5-9636-147f02649ec2" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Search testcase</body>
                    </command>
                    <nestedSteps>
                        <item guid="3ab2b257-fe00-45af-9162-dabbfc03554a" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Information:Searching test cases...</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <message inherit="false">Searching test cases...</message>
                            </applicationProperties>
                        </item>
                        <item guid="74c55be1-b911-4f33-8142-509303a3a8f9" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>same_project = False</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="eff7246b-60de-4e3f-82ae-4b08f8737314" action="if" useFieldsInCommand="false">
                            <command>
                                <body>walk_dir.startswith(&apos;project://&apos;):</body>
                            </command>
                            <nestedSteps>
                                <item guid="1d5ffcfc-acb9-4e5c-a2b4-ee3bf2b5d517" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>same_project = walk_dir[len(&apos;project://&apos;):].startswith(current_project_name)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="31305c49-fce7-4405-9cf0-f0a3bcfeb4d2" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>walk_dir = file_uriToPath(walk_dir).replace(&quot;\\\\&quot;, &quot;/&quot;);print(walk_dir)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="2714469c-a3e5-4aa3-aff1-eb4ad0ec75a8" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>file_count = 0</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="b5077048-bd7c-4d6c-959b-e74b8fbec6da" action="if" useFieldsInCommand="false">
                            <command>
                                <body>os.path.isfile(walk_dir):</body>
                            </command>
                            <nestedSteps>
                                <item guid="fc5fa009-27d5-4842-ac0f-564711b888cf" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>file_name = walk_dir[walk_dir.rindex(&apos;/&apos;) + 1: len(walk_dir) - 5];print(file_name)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>file_name_pattern</storageLocation>
                                                        <storeInAList>true</storeInAList>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="0cfd916b-8c82-49f9-ab7e-5aa83902173f" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>walk_dir = walk_dir[:walk_dir.rindex(&apos;/&apos;)]</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="52188eea-c2b0-4f57-bd62-223017139128" action="elif" useFieldsInCommand="false">
                            <command>
                                <body>info(&apos;exists&apos;, &apos;param&apos;, &apos;specified_tests&apos;):</body>
                            </command>
                            <nestedSteps>
                                <item guid="842e6f3e-26dc-4195-b60d-2415b8a905ea" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>file_name_pattern = param(&apos;specified_tests&apos;);print(file_name_pattern)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="7ddaf907-95ef-43e7-8f20-a26838858956" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>not_found_files = [x for x in file_name_pattern if x]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="7f4588b6-8260-4a6a-adcf-488aaccb9ebd" action="for" useFieldsInCommand="false">
                            <command>
                                <body>root, subdirs, files in os.walk(walk_dir):</body>
                            </command>
                            <nestedSteps>
                                <item guid="2730cfd3-2edb-4f8f-b8d4-9cd3ccba3493" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>filename in files:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="16fa9cd0-11d3-405f-87cc-c56cc5bff2e9" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>file_path = os.path.join(root, filename);print(file_path)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="c29e2843-87cd-47d6-9e83-008511000678" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>file_path.lower().endswith(&quot;.fftc&quot;) and &quot;intermediate test suite&quot; not in file_path.lower():</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="4444f3bc-9775-498d-9088-2d2d7791989c" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>current_tc_name = file_path[file_path.rindex(&apos;\\\\&apos;) + 1: len(file_path) - 5];print(current_tc_name)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="8bac98be-5d00-4f58-b991-2f54a7356831" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>file_name_pattern and  current_tc_name not in file_name_pattern:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="0c880883-9cfc-4af3-860c-f845a43c8a83" action="continue" useFieldsInCommand="false">
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="2704754a-71da-4dc4-8dca-a06903215a3e" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Read data file</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="12c2af79-2414-4529-b1ae-975644b8d190" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>data = &quot;&quot;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="72d69c9a-b301-40ae-8510-19dd92aaf096" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>current_file = open(file_path, &apos;r&apos;)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="043c0f00-f71c-4a64-9ba1-15d6c103bcdf" action="eval" useFieldsInCommand="false" skippReporting="false">
                                                            <command>
                                                                <body>data = current_file.read()</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="28c03226-1cc2-4f40-bf9b-862f0345a01f" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>param(&apos;tas_library_name&apos;):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="e948623b-106a-47d6-a9aa-ebafb235397f" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>original_testcase_data[current_tc_name] = data</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="3ecbb519-c31a-444c-9c66-6a745316635d" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>current_file.close()</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="02fcc482-1b87-41f9-8338-7c760a49b240" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>match in tag_pattern.finditer(data):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="e330402b-0fc2-4cba-b54c-b2953c84a6da" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>text, tag_name = match.groups();print(tag_name)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="3c2a35b2-582d-4745-a6e9-27a09be6f843" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>topology_name_or_id:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="c24b14d5-56b1-4008-a961-a945e202ba45" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>topology_name_or_id in topology_id_list:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="bf85cc01-5f2d-4cd8-8ad8-64595e266da7" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>topo_id = topology_name_or_id</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="5ba08c80-b1dc-4493-94fa-22f2614ea8f8" action="elif" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>topology_name_or_id in topology_name_list:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="090b4733-1675-4cff-b7f5-1c364bbe9081" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>topo_id = topology_id_list[topology_name_list.index(topology_name_or_id)]</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="139ffae0-bb4d-4e99-ba31-2a6a8cd0aa46" action="else" useFieldsInCommand="false">
                                                                            <nestedSteps>
                                                                                <item guid="5bfcca04-1d9c-475b-8399-b261b28e9e5b" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>print(topology_name_list)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="48cee99d-099d-4166-b2aa-abf406cdf856" action="message" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>Error:Cannot get Topology ID for topology_name_or_id: &quot;[topology_name_or_id]&quot;</body>
                                                                                    </command>
                                                                                    <postProcessing>
                                                                                        <analysisRules>
                                                                                            <item>
                                                                                                <extractorInfo extractorType="none">
                                                                                                    <extractorProperties type="com.fnfr.svt.documents.EmptyExtractorPropertyGroup"/>
                                                                                                </extractorInfo>
                                                                                                <processorInfo ruleType="assert">
                                                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                                        <expression>False</expression>
                                                                                                        <actionsWhenFalse>
                                                                                                            <item actionId="FailTest">
                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                            </item>
                                                                                                            <item actionId="ExitExecution">
                                                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                                            </item>
                                                                                                        </actionsWhenFalse>
                                                                                                    </ruleProperties>
                                                                                                </processorInfo>
                                                                                            </item>
                                                                                        </analysisRules>
                                                                                    </postProcessing>
                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                                        <severity inherit="false">Error</severity>
                                                                                        <message inherit="false">Cannot get Topology ID for topology_name_or_id: &quot;[topology_name_or_id]&quot;</message>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="2a4c222f-a078-4664-9589-7b077e64c308" action="elif" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>tag_name in topologytag_dict:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="43fbc97e-bab9-49ad-9a50-d148eaec6d9a" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>topo_id = topologytag_dict[tag_name];print(topo_id)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="71edcee3-90a2-49a6-96e8-90d6b81f7dd7" action="else" useFieldsInCommand="false">
                                                                    <nestedSteps>
                                                                        <item guid="dd79ae47-8911-4812-b363-9880e6066fb8" action="message" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>Warning:Cannot get Topology ID for tag name: [tag_name]</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                                <severity inherit="false">Warning</severity>
                                                                                <message inherit="false">Cannot get Topology ID for tag name: [tag_name]</message>
                                                                            </applicationProperties>
                                                                        </item>
                                                                        <item guid="983087ee-ed8d-41a9-9a8a-4ff83846e260" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>print(topologytag_dict)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="c0c9de87-9f3b-4f0d-bd28-317425bf9e6e" action="continue" useFieldsInCommand="false">
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="920999e8-7474-4131-8b5f-fbb8b3bb6a90" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>topo_id not in testcase_dict:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="fb3f90b5-1c12-4479-9b5c-ec95b56f837e" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>testcase_dict.setdefault(topo_id, [])</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="09e56601-1f03-4892-bd3a-cf0c5369b4b0" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>testcase_dict[topo_id].append(current_tc_name)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="f15204d8-0efb-49e7-8d24-f1b93b762232" action="comment" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>check RNH</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="fc646b76-5052-49ae-8e03-dcd717a9c03f" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>tag_rnh = tag_name + &quot;-RNH&quot;</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="554a9dd1-2534-4fd0-94e0-0e3589a71b00" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>tag_rnh in  topologytag_dict:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="1c79aff7-0362-4694-9061-9eb16b8bdd08" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>topo_id = topologytag_dict[tag_rnh];print(topo_id)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="e3afbc5a-a84e-46b9-88e5-0c32e3d74316" action="if" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>topo_id not in testcase_dict:</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="b00bf1e8-a303-4371-9c64-d5f62710722b" action="eval" useFieldsInCommand="false">
                                                                                            <command>
                                                                                                <body>testcase_dict.setdefault(topo_id, [])</body>
                                                                                            </command>
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="82e3cd75-6964-4293-8d94-ba5be89528df" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>testcase_dict[topo_id].append(current_tc_name)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="6cf93a9a-374f-45fc-923f-3ce6bc353c70" action="for" skip="true" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>ls_match in ls_session_pattern.finditer(data):</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="a1236cf4-3fdc-4425-b19d-025aa1623025" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>text_2, ls_session_name = ls_match.groups();print(ls_session_name)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="4af1a0fa-faab-438f-86b9-de89fe448de4" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>not (ls_session_name.endswith(&apos;SUT&apos;) and ls_session_name.endswith(&apos;SBA&apos;)):</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="c3248a95-788d-4cf1-a271-9a853f690648" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>ls_session_name_dict[current_tc_name] = ls_session_name</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="0923a68f-db27-4c8f-bfcc-c1ee67ad5e23" action="break" useFieldsInCommand="false">
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="d5ddf665-0fb4-4fb7-9bf6-4608220a0940" action="break" useFieldsInCommand="false">
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="65ab0b63-1f39-43ec-bacd-98764e695496" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Store testcase to dict</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="c441c3a5-7c37-4aaf-8613-c64ac4a35a56" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>same_project:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="ab80b093-0a96-4eb9-b44c-025ec1396e06" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>testcase_uri = current_project_uri + file_path[file_path.index(current_project_name) + len(current_project_name) + 1:].replace(&quot;\\\\&quot;, &quot;/&quot;); print(testcase_uri )</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="89a8827c-5400-4c49-9ee5-975a6167700d" action="else" useFieldsInCommand="false">
                                                            <nestedSteps>
                                                                <item guid="444d3b06-83f1-4372-a776-a266bbfb1771" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>testcase_uri = file_pathToUri(file_path)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="17b3ba51-87a8-411f-8936-8fc39e756406" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>testcasepath_dict[current_tc_name] = testcase_uri</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="2fee29d9-0ecd-4e10-9dcd-9ba9522a69ee" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>parameterpath_dict[current_tc_name] = testcase_uri.replace(&apos;/testcases/&apos;, &apos;/parameters/&apos;).replace(&apos;.fftc&apos;, &apos;.ffpt&apos;)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="63d45a83-0660-4b02-b2d0-345c24fc2f33" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>test_resullt_dict[current_tc_name] = []</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="a2508daf-bfd3-4d98-a225-60577c8ecded" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>number = len(test_resullt_dict)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="180f8b47-71e0-4519-b1c2-fa466f39cb7c" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>not_found_files.remove(current_tc_name)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="d5b2ff15-f17c-44d4-88b9-420f21f28171" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:     [number]. [current_tc_name]</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <message inherit="false">     [number]. [current_tc_name]</message>
                                                            </applicationProperties>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="de374508-130e-4bd5-b6ec-6cbcaa7229f6" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Show not found tests</body>
                            </command>
                            <nestedSteps>
                                <item guid="08633a07-adbc-4346-8bd5-184f6db9323b" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>len(not_found_files) &gt; 0:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="321d6a9a-b16a-4e32-b8fd-3f8ad50aefc2" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Warning:The tests were not found:</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <severity inherit="false">Warning</severity>
                                                <message inherit="false">The tests were not found:</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="d60e2c73-3f67-42df-84aa-080262c9c463" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>&apos;number&apos; not in locals():</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="b6181d57-4800-4071-a882-8cf4f1c14d82" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>number = 0</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="a733bb39-13ea-4535-b184-f52b0f2ac8c5" action="for" useFieldsInCommand="false">
                                            <command>
                                                <body>tc_name in not_found_files:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="167fa3f7-9748-45d3-823a-bb51462d30bb" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>number += 1</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="47ed95b7-b4f4-469e-a767-db172f58f46a" action="message" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Warning:     [number]. [tc_name]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                        <severity inherit="false">Warning</severity>
                                                        <message inherit="false">     [number]. [tc_name]</message>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="16e15af7-4700-4656-b9d1-209802e87bad" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Information:=============================================================</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <message inherit="false">=============================================================</message>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="c55da30b-acb4-4666-bb7b-7260d207122f" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Do tests</body>
                    </command>
                    <nestedSteps>
                        <item guid="c84bf79f-af7e-4262-8461-010ec26e7400" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(testcasepath_dict)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="f9236546-0132-46c7-97e5-70a7fabe0c0c" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(testcase_dict)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="723533f6-0a34-4334-8967-7437491873cb" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(automation_modes)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="96095d31-d20c-4b94-9d14-a7e50a3c0267" action="for" useFieldsInCommand="false">
                            <command>
                                <body>topo_id in testcase_dict:</body>
                            </command>
                            <nestedSteps>
                                <item guid="b6869360-7bba-4246-a574-52f28c5cd65d" action="for" useFieldsInCommand="false">
                                    <command>
                                        <body>automation_mode in automation_modes:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="7fa5e28e-ddf9-4fa8-a744-d78dbab98572" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>print(automation_mode)</body>
                                            </command>
                                            <postProcessing>
                                                <analysisRules>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>//tas_name</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>tas_name</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>//ts_name</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>ts_name</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>//ports</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>ports</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>//routing</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>routing</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>//optimistic_mode</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>optimistic_mode</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                    <item>
                                                        <extractorInfo extractorType="query">
                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                <query>//rnh_mode</query>
                                                            </extractorProperties>
                                                        </extractorInfo>
                                                        <processorInfo ruleType="store">
                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                <storageLocation>rnh_mode</storageLocation>
                                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                            </ruleProperties>
                                                        </processorInfo>
                                                    </item>
                                                </analysisRules>
                                            </postProcessing>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="d1010eee-5dee-4cd6-ad64-9e786505481a" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Information:Automation Mode: TAS &quot;[tas_name]&quot;, TS &quot;[ts_name]&quot;, Ports &quot;[ports]&quot;, Routing &quot;[routing]&quot;, Optimistic mode &quot;[optimistic_mode]&quot;, RNH &quot;[rnh_mode]&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <message inherit="false">Automation Mode: TAS &quot;[tas_name]&quot;, TS &quot;[ts_name]&quot;, Ports &quot;[ports]&quot;, Routing &quot;[routing]&quot;, Optimistic mode &quot;[optimistic_mode]&quot;, RNH &quot;[rnh_mode]&quot;</message>
                                            </applicationProperties>
                                        </item>
                                        <item guid="edd31b56-7f87-4864-83a7-65f76fa9fdaa" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Reserve topology</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="f2147731-0e86-4f3f-9e1c-4dd0119e27d5" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>topo_tags = [i for i in topologytag_dict if topologytag_dict[i]==topo_id];print(topo_tags)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="a0c98aa4-34f3-4abe-8a8c-4ae1aa0681ab" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>len(topo_tags) &gt; 0:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="95f19454-6f37-41f2-aacd-f26033fd2a96" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>topo_tag = topo_tags[0];print(topo_tag)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="8f137277-2531-4dc2-a17e-db05a4830640" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>(rnh_mode == &apos;false&apos; and topo_tag.endswith(&apos;RNH&apos;)):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="e9a316b6-633a-42a9-a273-dde378adda35" action="continue" useFieldsInCommand="false">
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="06668588-ba29-4bbf-ba3e-5cffb315d74c" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>tests = testcase_dict[topo_id];print(tests)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="11bafca8-49c5-4261-9b03-7f05198d2be7" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>len(tests) == 0:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="7e58af22-a0e8-413b-9288-192b1c58b51c" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>reserve_time = 0</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="806565bc-d70e-410d-a9d7-4b14b2fbdc2d" action="continue" useFieldsInCommand="false">
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="b69fbfea-e52c-4b7e-849a-9d3693ec13c9" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>reserve_time = len(tests) * param(&apos;reservation_time&apos;)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="55ad7c2b-2d9f-4980-aac6-5611577dffb5" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>topo_id_original = topo_id.replace(&quot;-RNH&quot;, &quot;&quot;);print(topo_id_original)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="6bfcf4d8-42f4-44a7-a72d-97fe06c3edbd" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>reserve_topology(topology_id=topo_id_original, tas_name=tas_name, ts_name_pattern=ts_name, ts_ports=ports, routing=routing, reservation_time=reserve_time)</body>
                                                    </command>
                                                    <postProcessing>
                                                        <analysisRules>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>isEmpty()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="assert">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                        <expression>value == &quot;true&quot;</expression>
                                                                        <actionsWhenTrue>
                                                                            <item actionId="DeclareExecutionIssue">
                                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                                    <message>===========================================================================================</message>
                                                                                </actionProperties>
                                                                            </item>
                                                                            <item actionId="Continue">
                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            </item>
                                                                            <item actionId="SkipRemainingRules">
                                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                            </item>
                                                                        </actionsWhenTrue>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                            <item>
                                                                <extractorInfo extractorType="query">
                                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                        <query>responseLine()</query>
                                                                    </extractorProperties>
                                                                </extractorInfo>
                                                                <processorInfo ruleType="store">
                                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                                        <storageLocation>reservation_id</storageLocation>
                                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                                    </ruleProperties>
                                                                </processorInfo>
                                                            </item>
                                                        </analysisRules>
                                                    </postProcessing>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="6b24b49e-6a6b-4dcc-bc5d-1e65e3501dd2" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Run tests</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="96a2d936-8ccf-4a25-a40f-d7987fca58be" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>import ste if need</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="da8d2ba2-f264-40c8-99e6-97197213bf18" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>param(&apos;ste_file&apos;) and param(&apos;tas_library_name&apos;):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="58dbc6cd-c2f8-4ce9-aae9-bedbbda876fa" action="call" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>import_ste(reservation_id=reservation_id, ste_imported_list=ste_imported_list)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="a0ba6a13-ad09-492f-9209-59359d4fac98" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>print(ste_imported_list)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="05e82e3b-65c1-4f5f-a464-84f42933df05" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Add parameters</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="37f8c56e-d7ee-45bb-91d9-9930dc7e080e" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>topo_id.endswith(&apos;-RNH&apos;):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="4ddc27a7-83d6-42f9-ac99-4a17e52acf9b" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>parameters = &apos;TC_parameters/Enable_RemoteNetworkHost=True&apos;;print(parameters)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="f47ed354-7506-445a-9ecb-abbf39988a9e" action="else" useFieldsInCommand="false">
                                                            <nestedSteps>
                                                                <item guid="cb490d4a-f4f0-4bca-94fd-6b5d8b6ac6c4" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>parameters = &apos;TC_parameters/Enable_RemoteNetworkHost=False&apos;;print(parameters)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="ed5aff25-1122-47dc-bba7-07f54e2a8382" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>optimistic_mode == &quot;true&quot;:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="4bb2de95-4b11-4921-8f3e-e0b6fee19ed3" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>parameters += &apos;\\nTC_parameters/Optimistic_Mode=True&apos;;print(parameters)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="7c03a650-1a90-465c-91c7-6797cb4b4a49" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>param(&apos;parameter_key_value&apos;, &apos;&apos;):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="f2add4d6-38e7-4a58-b4e5-5050c10b146e" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>params = param(&apos;parameter_key_value&apos;, &apos;&apos;).split(&quot;;&quot;)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="ef8580ef-a709-47b6-8ff2-bc399bdcd058" action="for" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>param_key_value in params:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="e159d35e-3fda-4c3d-b76a-b9f29d8e258b" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>parameters += &apos;\\n&apos;+ param_key_value;print(parameters)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="e0547d78-13de-4cbc-8568-9ecd214b1889" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>sleep_time  = 0</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="e5d1eb71-d432-413e-8e29-f348c5252b66" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>test in tests:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="d142f358-0a77-4934-9922-1d5607c58039" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>sleep_time:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="a9e347ee-0d2c-4a18-9f95-2a48a8f1d7c9" action="message" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>Information:-------------------------------------------------</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                        <message inherit="false">-------------------------------------------------</message>
                                                                    </applicationProperties>
                                                                </item>
                                                                <item guid="6626201f-0de9-4b90-89bf-95899cc9899d" action="sleep">
                                                                    <command>
                                                                        <body>[sleep_time]</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="9830af17-a2df-4a51-8d61-5098e7567c20" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>test_path = testcasepath_dict[test];print(test_path)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="7e8df587-4016-48ad-8697-b44c98057c87" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>parameter_path = parameterpath_dict[test];print(parameter_path)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="bed31b6d-87b1-4de0-94e1-1dea60c1657f" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>topology_path = topologypath_dict[topo_id];print(topology_path)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="1f0d6a8a-a435-48d0-9d22-913b332a03d5" action="comment" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Update test data</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="5bdacd13-566d-476d-bce6-7726127df513" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>param(&apos;tas_library_name&apos;, &apos;&apos;):</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="1d6a1313-a76e-414f-9112-a2271587f218" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>tas_library_name = param(&apos;tas_library_name&apos;)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="a4aa6790-12fb-46b1-a45e-cb0f82f71649" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>test_data = original_testcase_data[test]</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="e7f3c851-a2fc-4ed0-9498-8d4aa37fe98d" action="call" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>update_testdata(library_name=tas_library_name, test_path=test_path, test_data=test_data)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="9d283141-3010-4adc-b0e8-b8cd19af8890" action="message" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Information:Run test &quot;[test]&quot;...</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                                <message inherit="false">Run test &quot;[test]&quot;...</message>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="deda2dcf-a15b-4d45-9285-fa062a07e6aa" action="call" useFieldsInCommand="false">
                                                            <command>
                                                                <body>run_test(testcase_path=test_path, parameter_path=parameter_path, topology_path=topology_path, parameters=parameters)</body>
                                                            </command>
                                                            <postProcessing>
                                                                <analysisRules>
                                                                    <item>
                                                                        <extractorInfo extractorType="query">
                                                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                                                <query>responseLine</query>
                                                                            </extractorProperties>
                                                                        </extractorInfo>
                                                                        <processorInfo ruleType="assert">
                                                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                                                <expression>str(value) == &quot;Pass&quot;</expression>
                                                                                <actionsWhenTrue>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                                                            <message>      + PASSED</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="Eval">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                            <statement>test_resullt_dict[test].append(&quot;Pass&quot;)</statement>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                </actionsWhenTrue>
                                                                                <actionsWhenFalse>
                                                                                    <item actionId="DeclareExecutionIssue">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                                            <message>      + FAILED</message>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="Eval">
                                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                                            <statement>test_resullt_dict[test].append(&quot;Fail&quot;)</statement>
                                                                                        </actionProperties>
                                                                                    </item>
                                                                                    <item actionId="FailTestIfPassing">
                                                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                    </item>
                                                                                </actionsWhenFalse>
                                                                            </ruleProperties>
                                                                        </processorInfo>
                                                                    </item>
                                                                </analysisRules>
                                                            </postProcessing>
                                                            <eventHandlers>
                                                                <item name="OnFailedTestResult">
                                                                    <item actionId="DeclareExecutionIssue">
                                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                            <message>There are tests that have failed.</message>
                                                                        </actionProperties>
                                                                    </item>
                                                                </item>
                                                            </eventHandlers>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="a047aa42-9088-4a06-8f89-72748b442180" action="comment" useFieldsInCommand="false">
                                                            <command>
                                                                <body>Reset test data</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="a29f77e1-3f9e-4969-87fa-509f3973d9a5" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>param(&apos;tas_library_name&apos;):</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="01362fcf-3ea2-498b-a9c3-420f8ca55c18" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>tas_library_name = param(&apos;tas_library_name&apos;)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="ed53b97f-87fa-4596-b951-69c1e3f1ca96" action="eval" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>test_data = original_testcase_data[test]</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="f5333c74-4126-410f-8d2b-5dfb70892046" action="call" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>update_testdata(library_name=&apos;&apos;, test_path=test_path, test_data=test_data)</body>
                                                                            </command>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="f612b8cf-e626-41b6-844e-1e6df04bce33" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>sleep_time = 30</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="04f1de94-90cc-432b-8bcb-a390ab95221a" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Release topology</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="6f6a6e4c-cb56-4afa-abe7-2f72748745d0" action="call" useFieldsInCommand="false">
                                                    <command>
                                                        <body>release_topology(reservation_id=reservation_id)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="863f574c-3f27-429a-a335-abbec896e159" action="message" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Information:===========================================================================================</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                        <message inherit="false">===========================================================================================</message>
                                                    </applicationProperties>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="6bf5d315-004c-4281-9f93-0351f7930c38" action="close" session="s1">
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="a09453cd-0a89-4490-99a7-49a976fbfa8f" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Summarize</body>
                    </command>
                    <nestedSteps>
                        <item guid="45c97e0a-40e2-4e16-8c70-6e9c5ac84b14" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>idx = 1</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="c9831797-b4d4-4160-bdf8-e3c6009ae7eb" action="for" useFieldsInCommand="false">
                            <command>
                                <body>key, value in test_resullt_dict.items():</body>
                            </command>
                            <nestedSteps>
                                <item guid="441a4b81-6fb1-4b4a-8bba-d1bdb11aaab9" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>&apos;Fail&apos; in value:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="cd25ad0e-4d48-457a-bf30-2acb549d0895" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Error: [idx]. [key] - [value]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <severity inherit="false">Error</severity>
                                                <message inherit="false"> [idx]. [key] - [value]</message>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="c53bbf82-9675-4e06-b1ce-0cfb77656b78" action="elif" useFieldsInCommand="false">
                                    <command>
                                        <body>&apos;Pass&apos; in value:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="35df00a9-13d7-4cdc-af29-682a55721b69" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>OK: [idx]. [key] - [value]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <severity inherit="false">OK</severity>
                                                <message inherit="false"> [idx]. [key] - [value]</message>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="89d46ce0-69ea-4f01-8489-ffa11fd8a541" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="8453a0fe-c9d3-4b37-bcdf-37ae180ffe9c" action="message" useFieldsInCommand="false">
                                            <command>
                                                <body>Warning: [idx]. [key] - [value]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                <severity inherit="false">Warning</severity>
                                                <message inherit="false"> [idx]. [key] - [value]</message>
                                            </applicationProperties>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="1c1768dc-4313-4750-9fba-66bbb73d8ce3" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>idx += 1</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
        </item>
        <item name="run_test" isPublic="true">
            <steps>
                <item guid="3dcb47d3-328a-41f2-972d-f243c93950e0" action="run">
                    <command>
                        <body>[testcase_path]</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>TestResult</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>testResult</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <eventHandlers>
                        <item name="OnExecRunResultMatch">
                            <item actionId="PassTestIfNotAlreadyFailed">
                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </item>
                        </item>
                        <item name="OnExecRunResultMismatch">
                            <item actionId="FailTest">
                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                            </item>
                        </item>
                    </eventHandlers>
                    <applicationProperties type="com.fnfr.svt.execution.kernel.ExecRunPropertyGroup" testbedSelection="UseSpecified">
                        <specifiedTestbed sub="true">[topology_path]</specifiedTestbed>
                        <specifiedParameters sub="true">[parameter_path]</specifiedParameters>
                        <params>[parameters]</params>
                    </applicationProperties>
                </item>
                <item guid="594793da-9e44-4a59-8883-a74a53eb6ca7" action="return">
                    <command>
                        <body>[testResult]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="testcase_path">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="parameter_path">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="topology_path">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="parameters"/>
            </arguments>
        </item>
        <item name="reserve_topology" isPublic="true">
            <steps>
                <item guid="52282f8f-783a-47cb-b88f-e7f00603f12f" action="GET" session="s1">
                    <command>
                        <body>velocity/api/topology/v18/topology/[topology_id]</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//Json/name</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>topology_name</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//lockStatus/isLocked</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>str(value) == &quot;false&quot;</expression>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Topology [toplogy_name] is locking.</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="ExitProcedure">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                            </item>
                                            <item actionId="SkipRemainingRules">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>topo_resources_xml</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="velocity/api/topology/v18/topology/[topology_id]" action.inherit="false"/>
                </item>
                <item guid="db128f11-e00d-4ef6-9201-edec5c051f83" action="GET" session="s1">
                    <command>
                        <body>velocity/api/topology/v18/topology/[topology_id]/resources</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//items/item[name = &quot;Emulated SUT&quot;]/id</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>emulated_id</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//items/item[matches(name, &quot;TS \\d+&quot;)]/id</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>ts_ids</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//items/item[starts-with(name, &quot;Port&quot;)]/id</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>port_ids</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>//items/item[name = &quot;TAS&quot;]/id</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="store">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                        <storageLocation>tas_id</storageLocation>
                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>count(//items/item[condition != &quot;&quot;])</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>int(value) != 0</expression>
                                        <actionsWhenTrue>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>isAbstract = True</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="Eval">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                    <statement>isAbstract = False</statement>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                        <storeResponseAt>topo_resources_xml</storeResponseAt>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="velocity/api/topology/v18/topology/[topology_id]/resources" action.inherit="false"/>
                </item>
                <item guid="63868b70-b797-4f3f-b2c7-f48ff8cf6770" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>current_time = info(&apos;time&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="aa838e0b-e31d-467a-a02f-a926e9c854fe" action="json" useFieldsInCommand="false">
                    <command>
                        <body>action=&apos;createJson&apos;, documentName=&apos;request_body&apos;, fromFile=false, jsonString=&apos;{&quot;duration&quot;:[reservation_time],&quot;customConditions&quot;:\\\\[],&quot;name&quot;:&quot;Script automation reservation - [current_time]&quot;,&quot;topologyId&quot;:&quot;[topology_id]&quot;,&quot;description&quot;:&quot;This is a demo reservation&quot;}&apos;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                        <action inherit="false">createJson</action>
                        <jsonString inherit="false" sub="true">{&quot;duration&quot;:[reservation_time],&quot;customConditions&quot;:\\[],&quot;name&quot;:&quot;Script automation reservation - [current_time]&quot;,&quot;topologyId&quot;:&quot;[topology_id]&quot;,&quot;description&quot;:&quot;This is a demo reservation&quot;}</jsonString>
                        <documentName inherit="false">request_body</documentName>
                    </applicationProperties>
                </item>
                <item guid="4fd49dea-7053-4915-894b-623cc3d30d82" action="json" useFieldsInCommand="false">
                    <command>
                        <body>action=&apos;createJson&apos;, documentName=&apos;condition&apos;, fromFile=false, jsonString=&apos;{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;&quot;}&apos;</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                        <action inherit="false">createJson</action>
                        <jsonString inherit="false">{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;&quot;}</jsonString>
                        <documentName inherit="false">condition</documentName>
                    </applicationProperties>
                </item>
                <item guid="37101dfd-eda8-46d8-98ab-ab732691c56d" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>condition_index = 0</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="dfcc3023-eee2-46cf-92b4-61bd554f8d95" action="if" useFieldsInCommand="false">
                    <command>
                        <body>isAbstract:</body>
                    </command>
                    <nestedSteps>
                        <item guid="1140d3a6-1090-49c5-90e0-ec48d98b5410" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Add Tas condition</body>
                            </command>
                            <nestedSteps>
                                <item guid="9d98dc19-ec0b-4e77-9665-56a37a586dca" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>tas_name:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="b5bbe813-1ec8-4420-b343-7ea51c03b9b8" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>import ipaddress</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="d2311d57-068d-45e7-976f-a49cd3ee1ccf" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>isIP = True</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="3dd4a346-768a-46d1-9ba0-ee66048269c9" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ipaddress.ip_address(tas_name)</body>
                                            </command>
                                            <eventHandlers>
                                                <item name="OnInterpreterError">
                                                    <item actionId="Eval">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                            <statement>isIP = False</statement>
                                                        </actionProperties>
                                                    </item>
                                                </item>
                                            </eventHandlers>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="4e0c3e73-6997-4b9a-88a4-af39fc8df42a" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>isIP:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="23a56f33-022b-4866-9a4a-252547e7bb03" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>tas_condition_suffix = &quot; AND [ipAddress] LIKE &apos;%{0}%&apos;&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="1906c381-b261-45f1-99ed-5f637478a968" action="else" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="6cc0701c-cc52-43e6-8c2a-8d7d2e491b7d" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>tas_condition_suffix = &quot; AND [Hostname] LIKE &apos;%{0}%&apos;&quot;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f99e1356-3df0-4b6b-a77a-e73b3ea0651f" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[tas_id]&quot;}&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">setJsonValue</action>
                                                <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[tas_id]&quot;}</pathValue>
                                                <documentName inherit="false">condition</documentName>
                                            </applicationProperties>
                                        </item>
                                        <item guid="8a48a86f-265f-4eba-bf1e-3def8234a909" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>query_path = &apos;//items/item[id = &quot;{0}&quot;]/condition&apos;.format(tas_id)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="baa1856b-5168-4a9a-a3a5-96ee95e978b3" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>condition_text = query(&apos;topo_resources_xml&apos;, query_path);print(condition_text)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="9b6040c6-4cb1-47af-8c76-c50cde817264" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>&apos;ipAddress&apos; not in condition_text and &apos;Hostname&apos; not in condition_text:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="a2410f14-acd3-47b2-9c8e-0c38a5cb33d8" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>modified_condition = condition_text + tas_condition_suffix.format(tas_name);print(modified_condition)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="e59c663b-1fdc-43c5-9150-39c1cc44c127" action="else" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="cc29b12c-1b27-4cf7-ad72-52968a503f28" action="message" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Warning:Using the hardcoded topology prevents the script from applying Automation mode.</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                                        <severity inherit="false">Warning</severity>
                                                        <message inherit="false">Using the hardcoded topology prevents the script from applying Automation mode.</message>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="cbca4d93-b216-4a2a-9182-cf2ba5052d63" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>modified_condition = condition_text</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f51818b9-4c52-4d46-9f5a-e2777136bb22" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;[modified_condition]&quot;}&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">setJsonValue</action>
                                                <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;[modified_condition]&quot;}</pathValue>
                                                <documentName inherit="false">condition</documentName>
                                            </applicationProperties>
                                        </item>
                                        <item guid="e3443091-3e5f-4cba-ae63-95e9b0f2e68e" action="json" useFieldsInCommand="false">
                                            <command>
                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=false, documentName=&apos;request_body&apos;, pathValue=&apos;{&quot;customConditions/\\\\[[condition_index]]&quot;:\\\\[[condition]]}&apos;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                <action inherit="false">addJsonNode</action>
                                                <pathValue inherit="false" sub="true">{&quot;customConditions/\\[[condition_index]]&quot;:\\[[condition]]}</pathValue>
                                                <documentName inherit="false">request_body</documentName>
                                            </applicationProperties>
                                        </item>
                                        <item guid="a1e45e73-8e7d-44ac-8fa9-30b866d69025" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>condition_index += 1</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="993e1a06-38f4-495d-b5bd-50d28db8d0d8" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Add TS condition</body>
                            </command>
                            <nestedSteps>
                                <item guid="f7f8266a-fc92-43d1-a911-d3d015b04271" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_condition_suffix = &quot; AND [TS Name] LIKE &apos;%{0}%&apos;&quot;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="fa594de1-ab6d-457b-ba5e-3e53dfd2a7b4" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_names = []</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="421b0533-4b7d-47de-bfa8-2b4392f11803" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>routing_ts_name = &apos;kvm&apos;</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="b91f6b2a-61ae-4d06-8e4d-70827e5370df" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>ts_name_pattern:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="9c6c273f-7c13-4a42-ab5d-ad4f0d9f7a0f" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_condition_suffix = &quot; AND [TS Name]=&apos;{0}&apos;&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f4642006-5daa-427d-8038-21fb201aff5c" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_names = ts_name_pattern.split(&quot;;&quot;) </body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="375424b8-b7f2-4f01-a5de-566eba1f34df" action="elif" useFieldsInCommand="false">
                                    <command>
                                        <body>routing == &quot;true&quot;:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="e77d120a-90e0-439a-a763-41b5b6cdae6c" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_names = [&quot;kvm&quot;, &quot;kvm&quot;, &quot;kvm&quot;, &quot;kvm&quot;]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="4278f182-5505-4d8c-ab50-39d8b547bb92" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Add condition for Emulated SUT</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="d456ffe8-0819-4ffb-8c19-9395ac93beb5" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>len(ts_names) &gt; 0 and ts_names[0]:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="bbbf3f26-8b41-44d8-bc7b-7bff44a454ee" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[emulated_id]&quot;}&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">setJsonValue</action>
                                                        <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[emulated_id]&quot;}</pathValue>
                                                        <documentName inherit="false">condition</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="da7c1d6c-7650-414b-9a44-e04d8ded90ee" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>query_path = &apos;//items/item[id = &quot;{0}&quot;]/condition&apos;.format(emulated_id)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="fd549cd8-9620-47a1-bbc2-3bf2addfaebe" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>condition_text = query(&apos;topo_resources_xml&apos;, query_path);print(condition_text)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="9d6be592-4cbb-4173-a559-92a04b55934d" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>modified_condition = condition_text + ts_condition_suffix.format(ts_names[0]);print(modified_condition)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="4f7afd90-3da0-4b53-bb84-92ad6aa1c15a" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;[modified_condition]&quot;}&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">setJsonValue</action>
                                                        <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;[modified_condition]&quot;}</pathValue>
                                                        <documentName inherit="false">condition</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="256d40e4-af35-40cf-b37f-327f9df1f485" action="json" useFieldsInCommand="false">
                                                    <command>
                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=false, documentName=&apos;request_body&apos;, pathValue=&apos;{&quot;customConditions/\\\\[[condition_index]]&quot;:\\\\[[condition]]}&apos;</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                        <action inherit="false">addJsonNode</action>
                                                        <pathValue inherit="false" sub="true">{&quot;customConditions/\\[[condition_index]]&quot;:\\[[condition]]}</pathValue>
                                                        <documentName inherit="false">request_body</documentName>
                                                    </applicationProperties>
                                                </item>
                                                <item guid="07565038-cac4-46b7-b65b-c71e50963161" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>condition_index += 1</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e3334b02-bfa8-42eb-87ac-d715acfaffc5" action="comment" useFieldsInCommand="false">
                                    <command>
                                        <body>Add condition for TS</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="2c72c4c0-0cef-4a62-9e12-7092d1278dd7" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>len(ts_names) &gt; 1:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="e5d54cda-ffe9-4f13-9260-10b2698181f8" action="if" useFieldsInCommand="false">
                                                    <command>
                                                        <body>isinstance(ts_ids, str):</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="84c414fa-388a-486c-b8c4-8a5e0c41c512" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[ts_ids]&quot;}&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">setJsonValue</action>
                                                                <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[ts_ids]&quot;}</pathValue>
                                                                <documentName inherit="false">condition</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="a8ff938a-9a3e-4e74-aa87-ca1b4b97cb29" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;//items/item[id = &quot;{0}&quot;]/condition&apos;.format(ts_ids)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="d0f8fc42-1b6b-4b46-9865-9b3838927f6e" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>condition_text = query(&apos;topo_resources_xml&apos;, query_path);print(condition_text)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="d501ac4b-91b2-445b-8a3a-c25c1a0b93f8" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>modified_condition = condition_text + ts_condition_suffix.format(ts_names[1]);print(modified_condition)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="e4256e76-b56b-40b2-bf9b-54a771ec314b" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;[modified_condition]&quot;}&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">setJsonValue</action>
                                                                <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;[modified_condition]&quot;}</pathValue>
                                                                <documentName inherit="false">condition</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="71a4aefd-0fd9-4be8-800d-e4f4b9f283c9" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=false, documentName=&apos;request_body&apos;, pathValue=&apos;{&quot;customConditions/\\\\[[condition_index]]&quot;:\\\\[[condition]]}&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">addJsonNode</action>
                                                                <pathValue inherit="false" sub="true">{&quot;customConditions/\\[[condition_index]]&quot;:\\[[condition]]}</pathValue>
                                                                <documentName inherit="false">request_body</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="da3df2d3-18ef-4010-be3f-e548c60df831" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>condition_index += 1</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="9fe7800b-803a-4376-90ec-69c5051c7350" action="else" useFieldsInCommand="false">
                                                    <nestedSteps>
                                                        <item guid="2cb42e07-0eb3-4be2-a470-174598c336b3" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>condition_length = len(ts_names) - 1 if len(ts_names) - 1 &lt; len(ts_ids) else len(ts_ids)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="4adb4872-2ca8-42ba-ba5a-0161cc53aa57" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>i in range(0, condition_length):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="4dcff540-ac58-4281-beef-5ff9e99f776b" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>ts_id = ts_ids[i]</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="f0a44075-8c08-4407-9562-a5e55e3c6eae" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[ts_id]&quot;}&apos;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">setJsonValue</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[ts_id]&quot;}</pathValue>
                                                                        <documentName inherit="false">condition</documentName>
                                                                    </applicationProperties>
                                                                </item>
                                                                <item guid="66473efb-fedf-4cdb-9877-a10139085239" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;//items/item[id = &quot;{0}&quot;]/condition&apos;.format(ts_id)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="a04fdc14-9ffc-4825-b0f5-1b6c57244194" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>condition_text = query(&apos;topo_resources_xml&apos;, query_path);print(condition_text)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="2e023037-e391-40d5-bb3f-f0e3897aed80" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>modified_condition = condition_text + ts_condition_suffix.format(ts_names[i+1]);print(modified_condition)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="50a6aa13-2111-45cf-b5d1-97f4555c0769" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;[modified_condition]&quot;}&apos;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">setJsonValue</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;[modified_condition]&quot;}</pathValue>
                                                                        <documentName inherit="false">condition</documentName>
                                                                    </applicationProperties>
                                                                </item>
                                                                <item guid="36017fac-ff53-4abb-9ae5-87c95b202645" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=false, documentName=&apos;request_body&apos;, pathValue=&apos;{&quot;customConditions/\\\\[[condition_index]]&quot;:\\\\[[condition]]}&apos;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">addJsonNode</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;customConditions/\\[[condition_index]]&quot;:\\[[condition]]}</pathValue>
                                                                        <documentName inherit="false">request_body</documentName>
                                                                    </applicationProperties>
                                                                </item>
                                                                <item guid="54e2a616-c43c-4ac0-ac5a-30603b2fb6f7" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>condition_index += 1</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="60e66855-79ab-4e68-b8df-660ac680eb70" action="comment" useFieldsInCommand="false">
                            <command>
                                <body>Add Port condition</body>
                            </command>
                            <nestedSteps>
                                <item guid="7dbf0405-054d-4e11-881c-4ae6c990ea08" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>routing == &quot;false&quot;:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="877c03e5-372d-4fa6-8446-50b8409f3fc9" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>port_condition_suffix = &quot; AND [PHY name]=&apos;eth{0}&apos;&quot;</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="ed7bf10c-7205-4e04-9534-eff4336ef3dc" action="if" useFieldsInCommand="false">
                                            <command>
                                                <body>ts_ports:</body>
                                            </command>
                                            <nestedSteps>
                                                <item guid="4e77275b-ce22-4f94-9210-22d7e6182134" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>ts_port_parts = ts_ports.split(&quot;;&quot;)</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="29feff15-3b16-45f1-bd74-3b503f91e4a4" action="eval" useFieldsInCommand="false">
                                                    <command>
                                                        <body>default_phy_list = [&apos;2&apos;,&apos;3&apos;,&apos;4&apos;,&apos;5&apos;,&apos;6&apos;,&apos;7&apos;,&apos;8&apos;,&apos;9&apos;,&apos;10&apos;,&apos;11&apos;,&apos;12&apos;]</body>
                                                    </command>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="4af3ea7f-4d17-48e7-8920-af1b9183d91d" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Set condition for Emulated SUT ports</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="6db17b2f-e9ee-4841-b42c-214cad524e46" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>ts_port_parts[0]:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="e52bcbe5-ba84-4beb-8dca-286367fa6875" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>phy_names = ts_port_parts[0].split(&apos;,&apos;)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="315038d1-b446-4a0d-bd76-775e6542d5c4" action="else" useFieldsInCommand="false">
                                                            <nestedSteps>
                                                                <item guid="3337ff01-cc0c-4aca-ab6e-c8361df6afd3" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>phy_names = default_phy_list</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="29db359d-0ea4-47f3-874f-fe57997869c7" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>phy_i in range(len(phy_names)):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="d5af5c5d-8e2c-4916-8134-269d58dad9fc" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;//items/item[parentId = &quot;{0}&quot; and name = &quot;Port {1}&quot;]/id&apos;.format(emulated_id, phy_i + 1);print(query_path)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="4a5d4c6d-49aa-4fcc-aed8-807bf5bdb834" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>vel_port_id = query(&apos;topo_resources_xml&apos;, query_path);print(vel_port_id)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="57bf11b9-4b7f-4785-a3ad-910cabb601cc" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>not vel_port_id:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="3b27f480-9e9f-4b53-b5f2-f3ed63e5bd7d" action="break" useFieldsInCommand="false">
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="1234c6ac-8e54-4323-b6ec-057ccb29ec73" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[vel_port_id]&quot;}&apos;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">setJsonValue</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[vel_port_id]&quot;}</pathValue>
                                                                        <documentName inherit="false">condition</documentName>
                                                                    </applicationProperties>
                                                                </item>
                                                                <item guid="ad0c317a-44d0-4808-918f-c27f7767400a" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;//items/item[id = &quot;{0}&quot;]/condition&apos;.format(vel_port_id)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="beed04bc-b087-49a4-9ada-d6a78ca8066b" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>condition_text = query(&apos;topo_resources_xml&apos;, query_path);print(condition_text)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="d9dc490f-e288-4deb-b03e-c645b2e1e729" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>modified_condition = condition_text + port_condition_suffix.format(phy_names[phy_i]);print(modified_condition)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="8cbc862d-30f9-4f27-bdfc-92d924359873" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;[modified_condition]&quot;}&apos;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">setJsonValue</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;[modified_condition]&quot;}</pathValue>
                                                                        <documentName inherit="false">condition</documentName>
                                                                    </applicationProperties>
                                                                </item>
                                                                <item guid="81b1343f-7106-4fbb-8fb0-795c54c140bb" action="json" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=false, documentName=&apos;request_body&apos;, pathValue=&apos;{&quot;customConditions/\\\\[[condition_index]]&quot;:\\\\[[condition]]}&apos;</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                        <action inherit="false">addJsonNode</action>
                                                                        <pathValue inherit="false" sub="true">{&quot;customConditions/\\[[condition_index]]&quot;:\\[[condition]]}</pathValue>
                                                                        <documentName inherit="false">request_body</documentName>
                                                                    </applicationProperties>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                                <item guid="b9dcb51b-dcd4-412f-876b-e442029655e8" action="comment" useFieldsInCommand="false">
                                                    <command>
                                                        <body>Set condition for TS</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="2b991287-3715-427b-882e-c8217762ba87" action="for" useFieldsInCommand="false">
                                                            <command>
                                                                <body>port_i in range(1, len(ts_port_parts)):</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="4adc3d43-7c93-4b3e-a40c-f060679816e5" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;//items/item[name = &quot;TS {0}&quot;]/id&apos;.format(port_i);print(query_path)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="b546cdf6-c481-4afd-821f-9497d07f92f7" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>ts_id = query(&apos;topo_resources_xml&apos;, query_path);print(ts_id)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="b0f5350d-9574-4d54-97b8-0d80456bf9a4" action="if" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>ts_id:</body>
                                                                    </command>
                                                                    <nestedSteps>
                                                                        <item guid="af3d24bb-5d49-4ff1-bd60-357c27f132ed" action="if" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>ts_port_parts[port_i]:</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="e3efb7d0-18c4-42c5-970c-f165d45c811e" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>phy_names = ts_port_parts[port_i].split(&apos;,&apos;)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="4dca55d7-e2be-4a79-abf6-79b5ed57f637" action="else" useFieldsInCommand="false">
                                                                            <nestedSteps>
                                                                                <item guid="d52c26b3-1a05-4ece-a9a5-f7eb5190d848" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>phy_names = default_phy_list</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                        <item guid="d2261b42-36b5-4033-bbb4-b392dc8ba0f1" action="for" useFieldsInCommand="false">
                                                                            <command>
                                                                                <body>phy_i in range(len(phy_names)):</body>
                                                                            </command>
                                                                            <nestedSteps>
                                                                                <item guid="e1ac5d0f-1251-4e4c-bf63-3699f7820cdc" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>query_path = &apos;//items/item[parentId = &quot;{0}&quot; and name = &quot;Port {1}&quot;]/id&apos;.format(ts_id, phy_i +1);print(query_path)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="db704f45-39f9-4d40-9fd7-0b9f030c553f" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>vel_port_id = query(&apos;topo_resources_xml&apos;, query_path);print(vel_port_id)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="ce18fca2-d9a6-49fd-b5ec-10915f01f101" action="if" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>not vel_port_id:</body>
                                                                                    </command>
                                                                                    <nestedSteps>
                                                                                        <item guid="2fbaac2d-66ec-4a44-8616-332fd6e26587" action="break" useFieldsInCommand="false">
                                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                        </item>
                                                                                    </nestedSteps>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="746c0402-030e-4aff-81e1-a25c3915e132" action="json" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[vel_port_id]&quot;}&apos;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                        <action inherit="false">setJsonValue</action>
                                                                                        <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[vel_port_id]&quot;}</pathValue>
                                                                                        <documentName inherit="false">condition</documentName>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                                <item guid="f1d0ec21-321b-47dd-a6ba-9e2b518c3c07" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>query_path = &apos;//items/item[id = &quot;{0}&quot;]/condition&apos;.format(vel_port_id)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="986b3d33-6fd8-42a8-a0f1-0929b54fa81c" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>condition_text = query(&apos;topo_resources_xml&apos;, query_path);print(condition_text)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="365a805b-a9ba-4ce8-937f-3f5ffbd8716c" action="eval" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>modified_condition = condition_text + port_condition_suffix.format(phy_names[phy_i]);print(modified_condition)</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                                </item>
                                                                                <item guid="13346835-ceaf-482a-b0f0-a7b48c2f4740" action="json" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;[modified_condition]&quot;}&apos;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                        <action inherit="false">setJsonValue</action>
                                                                                        <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;[modified_condition]&quot;}</pathValue>
                                                                                        <documentName inherit="false">condition</documentName>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                                <item guid="739b1166-e206-4e2f-a12a-3b003948b23f" action="json" useFieldsInCommand="false">
                                                                                    <command>
                                                                                        <body>action=&apos;addJsonNode&apos;, editResponseStructure=false, documentName=&apos;request_body&apos;, pathValue=&apos;{&quot;customConditions/\\\\[[condition_index]]&quot;:\\\\[[condition]]}&apos;</body>
                                                                                    </command>
                                                                                    <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                                        <action inherit="false">addJsonNode</action>
                                                                                        <pathValue inherit="false" sub="true">{&quot;customConditions/\\[[condition_index]]&quot;:\\[[condition]]}</pathValue>
                                                                                        <documentName inherit="false">request_body</documentName>
                                                                                    </applicationProperties>
                                                                                </item>
                                                                            </nestedSteps>
                                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                        </item>
                                                                    </nestedSteps>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="f9f8c02d-ddc4-4476-9566-13ce44f1b12d" action="else" useFieldsInCommand="false">
                                            <nestedSteps>
                                                <item guid="49df7d10-3be5-47fb-9a64-c2d51ccd7f9f" action="for" useFieldsInCommand="false">
                                                    <command>
                                                        <body>id in port_ids:</body>
                                                    </command>
                                                    <nestedSteps>
                                                        <item guid="4175dc67-5ad0-4f22-841d-7540d59ea4a3" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[id]&quot;}&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">setJsonValue</action>
                                                                <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;&quot;,&quot;topologyResourceId&quot;:&quot;[id]&quot;}</pathValue>
                                                                <documentName inherit="false">condition</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="880431ee-57e7-4ff2-9f51-02e046bad7d1" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>query_path = &apos;//items/item[id = &quot;{0}&quot;]/condition&apos;.format(id)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="f9cfa53f-fa92-42d8-afd4-f50a7f43d61a" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>condition_text = query(&apos;topo_resources_xml&apos;, query_path);print(condition_text)</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="fc0c3052-924e-4f0b-af7f-61a42d17446f" action="if" useFieldsInCommand="false">
                                                            <command>
                                                                <body>&apos;PHY name&apos; not in condition_text:</body>
                                                            </command>
                                                            <nestedSteps>
                                                                <item guid="68477c7a-5467-4e13-9b82-d42bd7dc8a3a" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>query_path = &apos;//items/item[id = &quot;{0}&quot;]/name&apos;.format(id)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="c5720203-93ca-4392-b81e-5f9c974f92b6" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>port_name = query(&apos;topo_resources_xml&apos;, query_path);print(port_name)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="b4c0dbd9-1858-4e36-b56e-9d4a17c26666" action="eval" skip="true" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>port_matches = re.search(r&quot;Port (\\d+)&quot;, port_name);print(port_matches)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="2b61c836-d0e5-412b-b149-b96ad0b7dac1" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>port_id = int(port_name.replace(&quot;Port &quot;, &quot;&quot;));print(port_id)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                                <item guid="2b673939-a7e3-4854-b98e-5b653a82c164" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>modified_condition = condition_text + port_condition_suffix.format(port_id + 1);print(modified_condition)</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="42fea2f5-ecac-4b9f-bba3-066934cd2a99" action="else" useFieldsInCommand="false">
                                                            <nestedSteps>
                                                                <item guid="2522bc19-16f2-49fa-b5af-059c043de4ed" action="eval" useFieldsInCommand="false">
                                                                    <command>
                                                                        <body>modified_condition = condition_text</body>
                                                                    </command>
                                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                                </item>
                                                            </nestedSteps>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                        <item guid="2318e4f7-1742-4768-993f-1fd93744c4e0" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;setJsonValue&apos;, editResponseStructure=false, documentName=&apos;condition&apos;, pathValue=&apos;{&quot;condition&quot;:&quot;[modified_condition]&quot;}&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">setJsonValue</action>
                                                                <pathValue inherit="false" sub="true">{&quot;condition&quot;:&quot;[modified_condition]&quot;}</pathValue>
                                                                <documentName inherit="false">condition</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="e6f945dd-fc30-4a87-9ea7-216c55400910" action="json" useFieldsInCommand="false">
                                                            <command>
                                                                <body>action=&apos;addJsonNode&apos;, editResponseStructure=false, documentName=&apos;request_body&apos;, pathValue=&apos;{&quot;customConditions/\\\\[[condition_index]]&quot;:\\\\[[condition]]}&apos;</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.execution.builtin.json.JsonPropertiesGroup">
                                                                <action inherit="false">addJsonNode</action>
                                                                <pathValue inherit="false" sub="true">{&quot;customConditions/\\[[condition_index]]&quot;:\\[[condition]]}</pathValue>
                                                                <documentName inherit="false">request_body</documentName>
                                                            </applicationProperties>
                                                        </item>
                                                        <item guid="59dc3289-0d41-4dcb-8fad-848648fe354a" action="eval" useFieldsInCommand="false">
                                                            <command>
                                                                <body>condition_index += 1</body>
                                                            </command>
                                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                        </item>
                                                    </nestedSteps>
                                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                </item>
                                            </nestedSteps>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="fc74185f-5f1f-4d83-ae3c-fa956249409a" action="else" useFieldsInCommand="false">
                                    <nestedSteps>
                                        <item guid="193693c4-df42-46bc-a85f-bd350b2eff4f" action="comment" useFieldsInCommand="false">
                                            <command>
                                                <body>Insert steps here for when expression is false</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="a8783527-3b72-48a0-8008-9ed2a19ae433" action="else" useFieldsInCommand="false">
                    <nestedSteps>
                        <item guid="4cf6ac89-8960-4d16-b3cd-c65751636d07" action="message" useFieldsInCommand="false">
                            <command>
                                <body>Warning:Using the hardcoded topology prevents the script from applying Automation mode.</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <severity inherit="false">Warning</severity>
                                <message inherit="false">Using the hardcoded topology prevents the script from applying Automation mode.</message>
                            </applicationProperties>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="749f2fb6-84cd-4274-8d01-7872b2c6157b" action="comment" useFieldsInCommand="false">
                    <command>
                        <body>Reserve Topology</body>
                    </command>
                    <nestedSteps>
                        <item guid="836f8ed5-776c-4d1b-abda-4628456f8b77" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>time_out = param(&apos;topology_reserve_timeout&apos;, 180)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="aebb9c22-b55a-4c7d-9247-40c8009818ea" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>reservation_status = &quot;&quot;</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="0c6f1e11-ad5b-4a40-83be-3902f41ddd58" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>print(request_body)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="48c440d9-4c6c-43dd-b0fb-1ab2b3483d9e" action="POST" session="s1">
                            <command>
                                <body>velocity/api/reservation/v21/reservation</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>id()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>str(value) != &quot;&quot;</expression>
                                                <actionsWhenFalse>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Failed to reserve topology [topology_name]</message>
                                                        </actionProperties>
                                                    </item>
                                                    <item actionId="ExitProcedure">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                                    </item>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>id()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>reservation_id</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" message="[request_body]" message.inherit="false" action="velocity/api/reservation/v21/reservation" action.inherit="false">
                                <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                                    <memberClasses>
                                        <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                                    </memberClasses>
                                    <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry" header="Content-Type" header.inherit="false" value="application/json" value.inherit="false"/>
                                </httpHeader>
                            </applicationProperties>
                        </item>
                        <item guid="baecaf4f-2e85-479d-a9db-f0d52e4531bf" action="sleep">
                            <command>
                                <body>5</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="a842b9b6-fce4-489d-b255-79ba4c4d8be5" action="GET" session="s1">
                            <command>
                                <body>velocity/api/reservation/v21/reservation/[reservation_id]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>status()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>reservation_status</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>status()</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>str(value) == &quot;FAILED&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenTrue>
                                                <actionsWhenFalse>
                                                    <item actionId="SkipRemainingRules">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                </actionsWhenFalse>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>mapped/Json/failReason</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="assert">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                <expression>str(value) != &quot;&quot;</expression>
                                                <actionsWhenTrue>
                                                    <item actionId="FailTest">
                                                        <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                    </item>
                                                    <item actionId="DeclareExecutionIssue">
                                                        <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                            <message>Failed to reserve topology [topology_name] - reason: {value}</message>
                                                        </actionProperties>
                                                    </item>
                                                </actionsWhenTrue>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="velocity/api/reservation/v21/reservation/[reservation_id]" action.inherit="false"/>
                        </item>
                        <item guid="b130808c-3829-4aef-a772-baebc7054051" action="while" useFieldsInCommand="false">
                            <command>
                                <body>reservation_status != &quot;ACTIVE&quot; and reservation_status != &quot;ERROR&quot; and reservation_status != &quot;FAILED&quot; and time_out &gt;= 0:</body>
                            </command>
                            <nestedSteps>
                                <item guid="a27f629a-dab7-4092-87dd-bf57dd36c168" action="sleep">
                                    <command>
                                        <body>15</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="81eb3ebc-b951-4a4e-b5dc-627fda74df75" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>time_out -=15 </body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="f6bdfd66-30b2-4e75-9266-e17308a28798" action="GET" session="s1">
                                    <command>
                                        <body>velocity/api/reservation/v21/reservation/[reservation_id]</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>status()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>reservation_status</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>status()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>str(value) == &quot;FAILED&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>mapped/Json/failReason</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>str(value) != &quot;&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                    <message>Failed to reserve topology [topology_name] - reason: {value}</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="ExitProcedure">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <eventHandlers>
                                        <item name="OnQueryExtractorInvalidQuery">
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>{auto_message_wait}</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="RepeatStep">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup"/>
                                            </item>
                                        </item>
                                        <item name="OnNoMatchesFound">
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                    <message>{auto_message_wait}</message>
                                                </actionProperties>
                                            </item>
                                            <item actionId="RepeatStep">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.RepeatStepPropertyGroup"/>
                                            </item>
                                        </item>
                                    </eventHandlers>
                                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="velocity/api/reservation/v21/reservation/[reservation_id]" action.inherit="false"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="bc241f50-6c0d-41ee-af73-5dd3e055bfcb" action="if" useFieldsInCommand="false">
                            <command>
                                <body>time_out &lt; 0:</body>
                            </command>
                            <nestedSteps>
                                <item guid="41b4bb53-8384-43c2-891a-4be5a886e228" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>print(reservation_status)</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>responseLine()</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>str(value) == &quot;QUEUED&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                    <message>Reserve topology [topology_name] - status: [reservation_status]</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="CallProcedure">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.CallProcedurePropertyGroup">
                                                                    <command>release_topology(reservation_id=reservation_id)</command>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="ExitProcedure">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExitProcedurePropertyGroup"/>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="FailTest">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                                    <message>Reserve topology [topology_name] - status: [reservation_status]</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="e9c7fb4a-6a20-4725-911a-ae2ed9df3641" action="return">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="1c16b17c-6756-4bff-bb34-859df6013f19" action="if" useFieldsInCommand="false">
                            <command>
                                <body>reservation_status != &quot;ACTIVE&quot;:</body>
                            </command>
                            <nestedSteps>
                                <item guid="95d5f537-7f7f-4176-ab1d-54bbd55486ae" action="return">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="37ffa857-07e4-4ca0-9dfa-cd4990c5ec70" action="message" useFieldsInCommand="false">
                            <command>
                                <body>OK:Reserve topology [topology_name] - status: [reservation_status]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.execution.builtin.exec.MessagePropertyGroup">
                                <severity inherit="false">OK</severity>
                                <message inherit="false">Reserve topology [topology_name] - status: [reservation_status]</message>
                            </applicationProperties>
                        </item>
                        <item guid="f513ba1b-3380-4a2b-9242-0bfdcad4eef0" action="return">
                            <command>
                                <body>[reservation_id]</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="topology_id">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="tas_name"/>
                <item name="ts_name_pattern"/>
                <item name="ts_ports"/>
                <item name="routing">
                    <defaultValue>false</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
                <item name="reservation_time">
                    <defaultValue>1800</defaultValue>
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="release_topology" isPublic="true">
            <steps>
                <item guid="e1cc94c2-bede-45af-aee7-1bf969d150e1" action="POST" session="s1">
                    <command>
                        <body>velocity/api/reservation/v21/reservation/[reservation_id]/action?type=cancel</body>
                    </command>
                    <postProcessing>
                        <analysisRules>
                            <item>
                                <extractorInfo extractorType="query">
                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                        <query>statusCode/@value</query>
                                    </extractorProperties>
                                </extractorInfo>
                                <processorInfo ruleType="assert">
                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                        <expression>int(value) == 200</expression>
                                        <actionsWhenTrue>
                                            <item actionId="PassTestIfNotAlreadyFailed">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="OK">
                                                    <message>Stop reservation &quot;[reservation_id]&quot; successful</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenTrue>
                                        <actionsWhenFalse>
                                            <item actionId="FailTest">
                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                            </item>
                                            <item actionId="DeclareExecutionIssue">
                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup">
                                                    <message>Stop reservation &quot;[reservation_id]&quot; failed</message>
                                                </actionProperties>
                                            </item>
                                        </actionsWhenFalse>
                                    </ruleProperties>
                                </processorInfo>
                            </item>
                        </analysisRules>
                    </postProcessing>
                    <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" message.inherit="false" action="velocity/api/reservation/v21/reservation/[reservation_id]/action?type=cancel" action.inherit="false">
                        <httpHeader inherit="false" transferableToolId="com.fnfr.itest.applications.webservices.restful">
                            <memberClasses>
                                <item>com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry</item>
                            </memberClasses>
                            <item transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.HTTPHeaderEntry" header="Content-Type" header.inherit="false" value="application/json" value.inherit="false"/>
                        </httpHeader>
                    </applicationProperties>
                </item>
            </steps>
            <arguments>
                <item name="reservation_id">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="import_ste" isPublic="true">
            <steps>
                <item guid="54cf6a60-6190-42d8-ae07-9abe34ccc4ef" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>ste_file = param(&apos;ste_file&apos;, &apos;&apos;).replace(&apos; &apos;,&apos;%20&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="283d6819-0ec2-4a74-a840-aed30c71fbce" action="if" useFieldsInCommand="false">
                    <command>
                        <body>not ste_file.startswith(&quot;file:/&quot;) and not ste_file.startswith(&quot;project:/&quot;):</body>
                    </command>
                    <nestedSteps>
                        <item guid="d90d641e-8932-4569-9124-3ff07917b762" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>ste_file = &apos;file:/&apos; + ste_file</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="bab7bb7f-a6d3-4ce7-a219-e24be510adfe" action="eval" useFieldsInCommand="false">
                    <command>
                        <body>library_name = param(&apos;tas_library_name&apos;, &apos;&apos;)</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="5dc5339a-3705-4628-a60c-152c146c8864" action="if" useFieldsInCommand="false">
                    <command>
                        <body>ste_file and library_name:</body>
                    </command>
                    <nestedSteps>
                        <item guid="32dafd25-3144-4687-a790-85599d4b8eb8" action="GET" session="s1">
                            <command>
                                <body>velocity/api/reservation/v21/reservation/[reservation_id]/resources</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>//items/item[name=&quot;TAS&quot;]/inventoryResourceId</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>resource_id</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="velocity/api/reservation/v21/reservation/[reservation_id]/resources" action.inherit="false"/>
                        </item>
                        <item guid="b7ffc8bd-2f40-46ca-8355-ad7fc7d5ebba" action="GET" session="s1">
                            <command>
                                <body>velocity/api/inventory/v18/device/[resource_id]</body>
                            </command>
                            <postProcessing>
                                <analysisRules>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>//properties/item[name = &quot;Hostname&quot;]/value</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>tas_name</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>//properties/item[name = &quot;username&quot;]/value</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>tas_username</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                    <item>
                                        <extractorInfo extractorType="query">
                                            <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                <query>//properties/item[name = &quot;password&quot;]/value</query>
                                            </extractorProperties>
                                        </extractorInfo>
                                        <processorInfo ruleType="store">
                                            <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                <storageLocation>tas_password</storageLocation>
                                                <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                            </ruleProperties>
                                        </processorInfo>
                                    </item>
                                </analysisRules>
                            </postProcessing>
                            <applicationProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.fnfr.itest.applications.webservices.restful" transferableType="com.fnfr.itest.applications.webservices.properties.restful.RESTfulInvokeProperties" action="velocity/api/inventory/v18/device/[resource_id]" action.inherit="false"/>
                        </item>
                        <item guid="71af0b8a-23c8-4e06-a723-8809d0e7dbec" action="if" useFieldsInCommand="false">
                            <command>
                                <body>not tas_name:</body>
                            </command>
                            <nestedSteps>
                                <item guid="24e52e9e-0a9d-4303-a365-44bbd4d3083d" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>tas_name = param(&apos;tas_name&apos;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="4c0a567a-4737-46db-b96a-59fcd3b9dd59" action="if" useFieldsInCommand="false">
                            <command>
                                <body>not tas_username:</body>
                            </command>
                            <nestedSteps>
                                <item guid="fa56b862-3b27-4d0b-9491-47adecbd1ba1" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>tas_username = param(&apos;tas_username&apos;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="826b262c-72aa-42f5-90e5-dec87aa65e31" action="if" useFieldsInCommand="false">
                            <command>
                                <body>not tas_password:</body>
                            </command>
                            <nestedSteps>
                                <item guid="e51f7776-5efa-45a3-b081-93a41c06289e" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>tas_password = param(&apos;tas_password&apos;)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="e0064daa-f148-405a-bb96-4f39e3addbc5" action="if" useFieldsInCommand="false">
                            <command>
                                <body>tas_password and tas_username and tas_name and tas_name not in ste_imported_list:</body>
                            </command>
                            <nestedSteps>
                                <item guid="1378a6e2-b8b6-4e88-b8bb-cd3a49781b27" action="open" session="landslide">
                                    <command>
                                        <body>application:com.spirent.itest.applications.landsliderest</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.OpenStepPropertyGroup">
                                        <stepProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        <sessionProperties type="com.fnfr.svt.adapter.automation.tools.common.documents.TransferableDocumentObject" transferableToolId="com.spirent.itest.applications.landsliderest" transferableType="com.spirent.itest.applications.landsliderest.properties.LandslideRestSessionProperties" landslideRESTAPI="http://[tas_name]:8080/api" landslideRESTAPI.inherit="false" returnRawResponseText="true" returnRawResponseText.inherit="false">
                                            <authentication transferableToolId="com.spirent.itest.applications.landsliderest" transferableType="com.spirent.itest.applications.landsliderest.properties.LandslideRestAuthenticationProperties" user="[tas_username]" user.inherit="false" password.masked="false" password="[tas_password]" password.inherit="false" acceptAllCertificates="true" acceptAllCertificates.inherit="false"/>
                                        </sessionProperties>
                                        <sessionClass type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        <sessionVersion type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                    </applicationProperties>
                                </item>
                                <item guid="3005ee4a-e5d7-4361-8feb-c85ec4dc76f1" action="ImportTestSuite" session="landslide">
                                    <command>
                                        <body>-filePath [ste_file] -library [library_name] -suts Clear</body>
                                    </command>
                                    <postProcessing>
                                        <analysisRules>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup">
                                                        <query>success</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="assert">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.AssertionPropertyGroup">
                                                        <expression>str(value) == &quot;true&quot;</expression>
                                                        <actionsWhenTrue>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Information">
                                                                    <message>Test Suite Uploaded and Imported to &quot;[tas_name]&quot; - [library_name]</message>
                                                                </actionProperties>
                                                            </item>
                                                        </actionsWhenTrue>
                                                        <actionsWhenFalse>
                                                            <item actionId="DeclareExecutionIssue">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.ExecutionIssuePropertyGroup" severity="Warning">
                                                                    <message>Cannot import ste - click here to see error</message>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="Eval">
                                                                <actionProperties type="com.fnfr.svt.execution.builtin.actions.EvalActionPropertyGroup">
                                                                    <statement>ste_url = &quot;&quot;</statement>
                                                                </actionProperties>
                                                            </item>
                                                            <item actionId="SkipRemainingRules">
                                                                <actionProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                                            </item>
                                                        </actionsWhenFalse>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                            <item>
                                                <extractorInfo extractorType="query">
                                                    <extractorProperties type="com.fnfr.svt.mapping.execution.extractors.QueryDataExtractorPropertyGroup" declareNoMatchIssue="false">
                                                        <query>//url</query>
                                                    </extractorProperties>
                                                </extractorInfo>
                                                <processorInfo ruleType="store">
                                                    <ruleProperties type="com.fnfr.svt.execution.builtin.processors.StoreProcessorPropertyGroup">
                                                        <storageLocation>ste_url</storageLocation>
                                                        <responseValue type="com.fnfr.documents.PropertyBoolean">false</responseValue>
                                                        <variable type="com.fnfr.documents.PropertyBoolean">true</variable>
                                                        <secret type="com.fnfr.documents.PropertyBoolean">false</secret>
                                                    </ruleProperties>
                                                </processorInfo>
                                            </item>
                                        </analysisRules>
                                    </postProcessing>
                                    <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="ImportTestSuite" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" filePath="[ste_file]" filePath.inherit="false" library="[library_name]" library.inherit="false"/>
                                </item>
                                <item guid="3fbd9ef0-2f3c-4c02-bf35-78002da3d81e" action="if" useFieldsInCommand="false">
                                    <command>
                                        <body>ste_url:</body>
                                    </command>
                                    <nestedSteps>
                                        <item guid="0e844043-8ab2-4503-8d97-be2eed1ccd37" action="eval" useFieldsInCommand="false">
                                            <command>
                                                <body>ste_url = ste_url[ste_url.index(&apos;testSuites/&apos;):];print(ste_url)</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                        </item>
                                        <item guid="dfc572fc-17ce-4fa6-a564-870a163f159b" action="Custom" session="landslide">
                                            <command>
                                                <body>-requestMethod DELETE -dataType json -url [ste_url]</body>
                                            </command>
                                            <applicationProperties type="com.fnfr.itest.platform2.shared.documents.ntaf.NtafTransferableDocumentObject" action="Custom" subharness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harness="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" harnessName="http://spirent.com/NTAF/harness/iTest/LandslideRest/Main" requestMethod="DELETE" requestMethod.inherit="false" url="[ste_url]" url.inherit="false"/>
                                        </item>
                                    </nestedSteps>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="ac01376a-2825-4825-b762-db805ad67aed" action="close" session="landslide">
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                                <item guid="db2169a7-995e-4645-a86a-e1f294ee9a58" action="eval" useFieldsInCommand="false">
                                    <command>
                                        <body>ste_imported_list.append(tas_name)</body>
                                    </command>
                                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                                </item>
                            </nestedSteps>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
            </steps>
            <arguments>
                <item name="reservation_id">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="ste_imported_list">
                    <isMandatory>true</isMandatory>
                </item>
            </arguments>
        </item>
        <item name="update_testdata" isPublic="true">
            <steps>
                <item guid="c06d1df9-d029-4335-a6e3-abaa64cacdcf" action="if" useFieldsInCommand="false">
                    <command>
                        <body>library_name:</body>
                    </command>
                    <nestedSteps>
                        <item guid="b024290f-6c2d-44e4-b6e3-7e9f7f21be6a" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>source = test_data[test_data.index(&apos;get_library_id&apos;): test_data.index(&apos;get_library_id&apos;) + 135];print(source)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="61855268-1a60-4b95-9943-05ee5c771dc1" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>replacement = source.replace(&apos;()&apos;, &quot;(libraryName=&apos;{0}&apos;)&quot;).format(library_name);print(replacement)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                        <item guid="7e292425-ab3b-433e-86ce-de22ce91b610" action="eval" useFieldsInCommand="false">
                            <command>
                                <body>test_data = test_data.replace(source, replacement);print(test_data)</body>
                            </command>
                            <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                        </item>
                    </nestedSteps>
                    <applicationProperties type="com.fnfr.svt.documents.EmptyPropertyGroup"/>
                </item>
                <item guid="1b7ce2d1-6e3f-407b-aae1-151378372f6a" action="writeFile" useFieldsInCommand="false">
                    <command>
                        <body>[test_path] [test_data]</body>
                    </command>
                    <applicationProperties type="com.fnfr.svt.execution.builtin.exec.WriteFilePropertyGroup">
                        <appendMode>Overwrite</appendMode>
                    </applicationProperties>
                </item>
            </steps>
            <arguments>
                <item name="library_name"/>
                <item name="test_path">
                    <isMandatory>true</isMandatory>
                </item>
                <item name="test_data"/>
            </arguments>
        </item>
    </procedures>
</testCase>
